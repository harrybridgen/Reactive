RXB1
Import 3 "bootstrap" "experimental" "grammar"
Push 1
StoreImmutable "TK_Number"
Push 2
StoreImmutable "TK_Ident"
Push 3
StoreImmutable "TK_Char"
Push 4
StoreImmutable "TK_String"
Push 5
StoreImmutable "TK_Add"
Push 6
StoreImmutable "TK_Sub"
Push 7
StoreImmutable "TK_Mul"
Push 8
StoreImmutable "TK_Div"
Push 9
StoreImmutable "TK_Modulo"
Push 10
StoreImmutable "TK_Greater"
Push 11
StoreImmutable "TK_Less"
Push 12
StoreImmutable "TK_GreaterEqual"
Push 13
StoreImmutable "TK_LessEqual"
Push 14
StoreImmutable "TK_Equal"
Push 15
StoreImmutable "TK_NotEqual"
Push 16
StoreImmutable "TK_And"
Push 17
StoreImmutable "TK_Or"
Push 18
StoreImmutable "TK_Not"
Push 19
StoreImmutable "TK_Assign"
Push 20
StoreImmutable "TK_ImmutableAssign"
Push 21
StoreImmutable "TK_ReactiveAssign"
Push 22
StoreImmutable "TK_LParen"
Push 23
StoreImmutable "TK_RParen"
Push 24
StoreImmutable "TK_LBrace"
Push 25
StoreImmutable "TK_RBrace"
Push 26
StoreImmutable "TK_LSquare"
Push 27
StoreImmutable "TK_RSquare"
Push 28
StoreImmutable "TK_Semicolon"
Push 29
StoreImmutable "TK_Dot"
Push 30
StoreImmutable "TK_Comma"
Push 31
StoreImmutable "TK_Colon"
Push 32
StoreImmutable "TK_Question"
Push 33
StoreImmutable "TK_If"
Push 34
StoreImmutable "TK_Else"
Push 35
StoreImmutable "TK_Loop"
Push 36
StoreImmutable "TK_Break"
Push 37
StoreImmutable "TK_Func"
Push 38
StoreImmutable "TK_Return"
Push 39
StoreImmutable "TK_Struct"
Push 40
StoreImmutable "TK_Import"
Push 41
StoreImmutable "TK_Print"
Push 42
StoreImmutable "TK_Println"
Push 43
StoreImmutable "TK_Continue"
Push 44
StoreImmutable "TK_Assert"
Push 45
StoreImmutable "TK_Error"
Push 1
StoreImmutable "OP_Add"
Push 2
StoreImmutable "OP_Sub"
Push 3
StoreImmutable "OP_Mul"
Push 4
StoreImmutable "OP_Div"
Push 5
StoreImmutable "OP_Mod"
Push 6
StoreImmutable "OP_Greater"
Push 7
StoreImmutable "OP_Less"
Push 8
StoreImmutable "OP_GreaterEqual"
Push 9
StoreImmutable "OP_LessEqual"
Push 10
StoreImmutable "OP_Equal"
Push 11
StoreImmutable "OP_NotEqual"
Push 12
StoreImmutable "OP_And"
Push 13
StoreImmutable "OP_Or"
Push 1
StoreImmutable "CAST_Int"
Push 2
StoreImmutable "CAST_Char"
Push 1
StoreImmutable "AST_Number"
Push 2
StoreImmutable "AST_Char"
Push 3
StoreImmutable "AST_String"
Push 4
StoreImmutable "AST_Var"
Push 5
StoreImmutable "AST_Operation"
Push 6
StoreImmutable "AST_Ternary"
Push 7
StoreImmutable "AST_ArrayNew"
Push 8
StoreImmutable "AST_Index"
Push 9
StoreImmutable "AST_Assign"
Push 10
StoreImmutable "AST_ImmutableAssign"
Push 11
StoreImmutable "AST_ReactiveAssign"
Push 12
StoreImmutable "AST_AssignTarget"
Push 13
StoreImmutable "AST_ReactiveAssignTarget"
Push 14
StoreImmutable "AST_ImmutableAssignTarget"
Push 15
StoreImmutable "AST_Program"
Push 16
StoreImmutable "AST_IfElse"
Push 17
StoreImmutable "AST_Loop"
Push 18
StoreImmutable "AST_Break"
Push 19
StoreImmutable "AST_Continue"
Push 20
StoreImmutable "AST_Return"
Push 21
StoreImmutable "AST_Print"
Push 22
StoreImmutable "AST_Println"
Push 23
StoreImmutable "AST_Assert"
Push 24
StoreImmutable "AST_Error"
Push 25
StoreImmutable "AST_FuncDef"
Push 26
StoreImmutable "AST_Call"
Push 27
StoreImmutable "AST_StructDef"
Push 28
StoreImmutable "AST_StructNew"
Push 29
StoreImmutable "AST_FieldAccess"
Push 30
StoreImmutable "AST_FieldAssign"
Push 31
StoreImmutable "AST_Import"
Push 32
StoreImmutable "AST_Cast"
Push 1
StoreImmutable "FIELD_ASSIGN_Normal"
Push 2
StoreImmutable "FIELD_ASSIGN_Reactive"
Push 3
StoreImmutable "FIELD_ASSIGN_Immutable"
Push 0
StoreImmutable "FIELD_INIT_None"
Push 1
StoreImmutable "FIELD_INIT_Mutable"
Push 2
StoreImmutable "FIELD_INIT_Immutable"
Push 3
StoreImmutable "FIELD_INIT_Reactive"
Push 1
StoreImmutable "INSTR_Push"
Push 2
StoreImmutable "INSTR_PushChar"
Push 3
StoreImmutable "INSTR_Load"
Push 4
StoreImmutable "INSTR_Store"
Push 5
StoreImmutable "INSTR_StoreImmutable"
Push 6
StoreImmutable "INSTR_StoreReactive"
Push 7
StoreImmutable "INSTR_Add"
Push 8
StoreImmutable "INSTR_Sub"
Push 9
StoreImmutable "INSTR_Mul"
Push 10
StoreImmutable "INSTR_Div"
Push 11
StoreImmutable "INSTR_Modulo"
Push 12
StoreImmutable "INSTR_Greater"
Push 13
StoreImmutable "INSTR_Less"
Push 14
StoreImmutable "INSTR_GreaterEqual"
Push 15
StoreImmutable "INSTR_LessEqual"
Push 16
StoreImmutable "INSTR_Equal"
Push 17
StoreImmutable "INSTR_NotEqual"
Push 18
StoreImmutable "INSTR_And"
Push 19
StoreImmutable "INSTR_Or"
Push 20
StoreImmutable "INSTR_Label"
Push 21
StoreImmutable "INSTR_Jump"
Push 22
StoreImmutable "INSTR_JumpIfZero"
Push 23
StoreImmutable "INSTR_Return"
Push 24
StoreImmutable "INSTR_ArrayNew"
Push 25
StoreImmutable "INSTR_ArrayGet"
Push 26
StoreImmutable "INSTR_ArrayLValue"
Push 27
StoreImmutable "INSTR_StoreIndex"
Push 28
StoreImmutable "INSTR_StoreIndexReactive"
Push 29
StoreImmutable "INSTR_StoreStruct"
Push 30
StoreImmutable "INSTR_NewStruct"
Push 31
StoreImmutable "INSTR_FieldGet"
Push 32
StoreImmutable "INSTR_FieldSet"
Push 33
StoreImmutable "INSTR_FieldSetReactive"
Push 34
StoreImmutable "INSTR_FieldLValue"
Push 35
StoreImmutable "INSTR_StoreThrough"
Push 36
StoreImmutable "INSTR_StoreThroughReactive"
Push 37
StoreImmutable "INSTR_StoreThroughImmutable"
Push 38
StoreImmutable "INSTR_StoreFunction"
Push 39
StoreImmutable "INSTR_Call"
Push 40
StoreImmutable "INSTR_PushImmutableContext"
Push 41
StoreImmutable "INSTR_PopImmutableContext"
Push 42
StoreImmutable "INSTR_ClearImmutableContext"
Push 43
StoreImmutable "INSTR_Print"
Push 44
StoreImmutable "INSTR_Println"
Push 45
StoreImmutable "INSTR_Assert"
Push 46
StoreImmutable "INSTR_Error"
Push 47
StoreImmutable "INSTR_Import"
Push 48
StoreImmutable "INSTR_Cast"
StoreStruct "Token" 4
Field "kind" Mutable 2
Push 0
Return
Field "ival" Mutable 2
Push 0
Return
Field "sval" None
Field "cval" Mutable 2
Push 0
Return
StoreFunction "token_simple" 1 "kind" 9
NewStruct "Token"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "kind"
StoreThrough
Load "t"
Return
Return
StoreFunction "token_number" 1 "n" 13
NewStruct "Token"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "TK_Number"
StoreThrough
Load "t"
FieldLValue "ival"
Load "n"
StoreThrough
Load "t"
Return
Return
StoreFunction "token_ident" 1 "name" 13
NewStruct "Token"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "TK_Ident"
StoreThrough
Load "t"
FieldLValue "sval"
Load "name"
StoreThrough
Load "t"
Return
Return
StoreFunction "token_string" 1 "s" 13
NewStruct "Token"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "TK_String"
StoreThrough
Load "t"
FieldLValue "sval"
Load "s"
StoreThrough
Load "t"
Return
Return
StoreFunction "token_char" 1 "c" 13
NewStruct "Token"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "TK_Char"
StoreThrough
Load "t"
FieldLValue "cval"
Load "c"
StoreThrough
Load "t"
Return
Return
StoreStruct "AST" 10
Field "kind" Mutable 2
Push 0
Return
Field "a" None
Field "b" None
Field "c" None
Field "name" None
Field "list" None
Field "params" None
Field "body" None
Field "op" Mutable 2
Push 0
Return
Field "flag" Mutable 2
Push 0
Return
StoreFunction "ast_number" 1 "n" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Number"
StoreThrough
Load "t"
FieldLValue "a"
Load "n"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_char" 1 "c" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Char"
StoreThrough
Load "t"
FieldLValue "a"
Load "c"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_string" 1 "s" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_String"
StoreThrough
Load "t"
FieldLValue "a"
Load "s"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_var" 1 "name" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Var"
StoreThrough
Load "t"
FieldLValue "name"
Load "name"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_operation" 3 "left" "op" "right" 21
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Operation"
StoreThrough
Load "t"
FieldLValue "a"
Load "left"
StoreThrough
Load "t"
FieldLValue "b"
Load "right"
StoreThrough
Load "t"
FieldLValue "op"
Load "op"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_ternary" 3 "cond" "then_expr" "else_expr" 21
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Ternary"
StoreThrough
Load "t"
FieldLValue "a"
Load "cond"
StoreThrough
Load "t"
FieldLValue "b"
Load "then_expr"
StoreThrough
Load "t"
FieldLValue "c"
Load "else_expr"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_array_new" 1 "size" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_ArrayNew"
StoreThrough
Load "t"
FieldLValue "a"
Load "size"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_index" 2 "base" "index" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Index"
StoreThrough
Load "t"
FieldLValue "a"
Load "base"
StoreThrough
Load "t"
FieldLValue "b"
Load "index"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_assign" 2 "name" "expr" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Assign"
StoreThrough
Load "t"
FieldLValue "name"
Load "name"
StoreThrough
Load "t"
FieldLValue "a"
Load "expr"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_immutable_assign" 2 "name" "expr" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_ImmutableAssign"
StoreThrough
Load "t"
FieldLValue "name"
Load "name"
StoreThrough
Load "t"
FieldLValue "a"
Load "expr"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_reactive_assign" 2 "name" "expr" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_ReactiveAssign"
StoreThrough
Load "t"
FieldLValue "name"
Load "name"
StoreThrough
Load "t"
FieldLValue "a"
Load "expr"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_assign_target" 2 "target" "value" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_AssignTarget"
StoreThrough
Load "t"
FieldLValue "a"
Load "target"
StoreThrough
Load "t"
FieldLValue "b"
Load "value"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_reactive_assign_target" 2 "target" "value" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_ReactiveAssignTarget"
StoreThrough
Load "t"
FieldLValue "a"
Load "target"
StoreThrough
Load "t"
FieldLValue "b"
Load "value"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_immutable_assign_target" 2 "target" "value" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_ImmutableAssignTarget"
StoreThrough
Load "t"
FieldLValue "a"
Load "target"
StoreThrough
Load "t"
FieldLValue "b"
Load "value"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_program" 1 "items" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Program"
StoreThrough
Load "t"
FieldLValue "list"
Load "items"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_if_else" 3 "cond" "then_block" "else_block" 21
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_IfElse"
StoreThrough
Load "t"
FieldLValue "a"
Load "cond"
StoreThrough
Load "t"
FieldLValue "b"
Load "then_block"
StoreThrough
Load "t"
FieldLValue "c"
Load "else_block"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_loop" 1 "body" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Loop"
StoreThrough
Load "t"
FieldLValue "list"
Load "body"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_break" 0 9
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Break"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_continue" 0 9
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Continue"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_return" 2 "expr" "has_expr" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Return"
StoreThrough
Load "t"
FieldLValue "a"
Load "expr"
StoreThrough
Load "t"
FieldLValue "flag"
Load "has_expr"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_print" 1 "expr" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Print"
StoreThrough
Load "t"
FieldLValue "a"
Load "expr"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_println" 1 "expr" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Println"
StoreThrough
Load "t"
FieldLValue "a"
Load "expr"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_assert" 1 "expr" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Assert"
StoreThrough
Load "t"
FieldLValue "a"
Load "expr"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_error" 1 "msg" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Error"
StoreThrough
Load "t"
FieldLValue "a"
Load "msg"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_func_def" 3 "name" "params" "body" 21
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_FuncDef"
StoreThrough
Load "t"
FieldLValue "name"
Load "name"
StoreThrough
Load "t"
FieldLValue "params"
Load "params"
StoreThrough
Load "t"
FieldLValue "body"
Load "body"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_call" 2 "name" "args" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Call"
StoreThrough
Load "t"
FieldLValue "name"
Load "name"
StoreThrough
Load "t"
FieldLValue "list"
Load "args"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_struct_def" 2 "name" "fields" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_StructDef"
StoreThrough
Load "t"
FieldLValue "name"
Load "name"
StoreThrough
Load "t"
FieldLValue "list"
Load "fields"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_struct_new" 1 "name" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_StructNew"
StoreThrough
Load "t"
FieldLValue "name"
Load "name"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_field_access" 2 "base" "field" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_FieldAccess"
StoreThrough
Load "t"
FieldLValue "a"
Load "base"
StoreThrough
Load "t"
FieldLValue "name"
Load "field"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_field_assign" 4 "base" "field" "value" "kind" 25
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_FieldAssign"
StoreThrough
Load "t"
FieldLValue "a"
Load "base"
StoreThrough
Load "t"
FieldLValue "name"
Load "field"
StoreThrough
Load "t"
FieldLValue "b"
Load "value"
StoreThrough
Load "t"
FieldLValue "flag"
Load "kind"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_import" 1 "path" 13
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Import"
StoreThrough
Load "t"
FieldLValue "list"
Load "path"
StoreThrough
Load "t"
Return
Return
StoreFunction "ast_cast" 2 "target" "expr" 17
NewStruct "AST"
StoreImmutable "t"
Load "t"
FieldLValue "kind"
Load "AST_Cast"
StoreThrough
Load "t"
FieldLValue "a"
Load "expr"
StoreThrough
Load "t"
FieldLValue "flag"
Load "target"
StoreThrough
Load "t"
Return
Return
StoreStruct "FieldInit" 3
Field "name" None
Field "kind" Mutable 2
Push 0
Return
Field "value" None
StoreFunction "field_init" 3 "name" "kind" "value" 17
NewStruct "FieldInit"
StoreImmutable "f"
Load "f"
FieldLValue "name"
Load "name"
StoreThrough
Load "f"
FieldLValue "kind"
Load "kind"
StoreThrough
Load "f"
FieldLValue "value"
Load "value"
StoreThrough
Load "f"
Return
Return
StoreStruct "ReactiveExpr" 2
Field "captures" None
Field "code" None
StoreFunction "reactive_expr" 2 "captures" "code" 13
NewStruct "ReactiveExpr"
StoreImmutable "r"
Load "r"
FieldLValue "captures"
Load "captures"
StoreThrough
Load "r"
FieldLValue "code"
Load "code"
StoreThrough
Load "r"
Return
Return
StoreStruct "Instruction" 4
Field "kind" Mutable 2
Push 0
Return
Field "a" None
Field "b" None
Field "c" None
StoreFunction "instr0" 1 "kind" 9
NewStruct "Instruction"
StoreImmutable "i"
Load "i"
FieldLValue "kind"
Load "kind"
StoreThrough
Load "i"
Return
Return
StoreFunction "instr1" 2 "kind" "a" 13
NewStruct "Instruction"
StoreImmutable "i"
Load "i"
FieldLValue "kind"
Load "kind"
StoreThrough
Load "i"
FieldLValue "a"
Load "a"
StoreThrough
Load "i"
Return
Return
StoreFunction "instr2" 3 "kind" "a" "b" 17
NewStruct "Instruction"
StoreImmutable "i"
Load "i"
FieldLValue "kind"
Load "kind"
StoreThrough
Load "i"
FieldLValue "a"
Load "a"
StoreThrough
Load "i"
FieldLValue "b"
Load "b"
StoreThrough
Load "i"
Return
Return
StoreFunction "instr3" 4 "kind" "a" "b" "c" 21
NewStruct "Instruction"
StoreImmutable "i"
Load "i"
FieldLValue "kind"
Load "kind"
StoreThrough
Load "i"
FieldLValue "a"
Load "a"
StoreThrough
Load "i"
FieldLValue "b"
Load "b"
StoreThrough
Load "i"
FieldLValue "c"
Load "c"
StoreThrough
Load "i"
Return
Return
Import 3 "bootstrap" "experimental" "util"
Import 2 "std" "char"
StoreFunction "is_digit" 1 "c" 13
Load "c"
Cast Int
PushChar 48
Cast Int
GreaterEqual
Load "c"
Cast Int
PushChar 57
Cast Int
LessEqual
And
Return
Return
StoreFunction "is_alpha" 1 "c" 31
Load "c"
Cast Int
PushChar 97
Cast Int
GreaterEqual
Load "c"
Cast Int
PushChar 122
Cast Int
LessEqual
And
Load "c"
Cast Int
PushChar 65
Cast Int
GreaterEqual
Load "c"
Cast Int
PushChar 90
Cast Int
LessEqual
And
Or
Load "c"
Cast Int
PushChar 95
Cast Int
Equal
Or
Return
Return
StoreFunction "is_alnum" 1 "c" 7
Load "c"
Call "is_alpha" 1
Load "c"
Call "is_digit" 1
Or
Return
Return
StoreFunction "is_space" 1 "c" 25
Load "c"
Cast Int
PushChar 32
Cast Int
Equal
Load "c"
Cast Int
PushChar 10
Cast Int
Equal
Or
Load "c"
Cast Int
PushChar 9
Cast Int
Equal
Or
Load "c"
Cast Int
PushChar 13
Cast Int
Equal
Or
Return
Return
StoreFunction "is_lower" 1 "c" 13
Load "c"
Cast Int
PushChar 97
Cast Int
GreaterEqual
Load "c"
Cast Int
PushChar 122
Cast Int
LessEqual
And
Return
Return
StoreFunction "is_upper" 1 "c" 13
Load "c"
Cast Int
PushChar 65
Cast Int
GreaterEqual
Load "c"
Cast Int
PushChar 90
Cast Int
LessEqual
And
Return
Return
StoreFunction "to_lower" 1 "c" 23
Load "c"
Call "is_upper" 1
JumpIfZero "else_0"
PushImmutableContext
Load "c"
Cast Int
PushChar 97
Cast Int
PushChar 65
Cast Int
Sub
Add
Cast Char
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "c"
Return
Return
StoreFunction "to_upper" 1 "c" 23
Load "c"
Call "is_lower" 1
JumpIfZero "else_0"
PushImmutableContext
Load "c"
Cast Int
PushChar 97
Cast Int
PushChar 65
Cast Int
Sub
Sub
Cast Char
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "c"
Return
Return
StoreFunction "digit_to_int" 1 "c" 149
Load "c"
Call "is_digit" 1
Push 0
Equal
JumpIfZero "else_0"
PushImmutableContext
Push 25
ArrayNew
Store "__strlit_2"
Load "__strlit_2"
Push 0
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_2"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 2
ArrayLValue
PushChar 103
StoreThrough
Load "__strlit_2"
Push 3
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Push 5
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_2"
Push 6
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Push 7
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_2"
Push 8
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_2"
Push 9
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 10
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_2"
Push 11
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Push 12
ArrayLValue
PushChar 58
StoreThrough
Load "__strlit_2"
Push 13
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_2"
Push 14
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_2"
Push 15
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_2"
Push 16
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Push 17
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_2"
Push 18
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_2"
Push 19
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_2"
Push 20
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_2"
Push 21
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 22
ArrayLValue
PushChar 103
StoreThrough
Load "__strlit_2"
Push 23
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 24
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Println
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "c"
Cast Int
PushChar 48
Cast Int
Sub
Return
Return
StoreFunction "int_to_digit" 1 "n" 152
Load "n"
Push 0
Less
Load "n"
Push 9
Greater
Or
JumpIfZero "else_0"
PushImmutableContext
Push 25
ArrayNew
Store "__strlit_2"
Load "__strlit_2"
Push 0
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 1
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_2"
Push 2
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Push 3
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_2"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Push 5
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_2"
Push 6
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_2"
Push 7
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_2"
Push 8
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 9
ArrayLValue
PushChar 103
StoreThrough
Load "__strlit_2"
Push 10
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 11
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Push 12
ArrayLValue
PushChar 58
StoreThrough
Load "__strlit_2"
Push 13
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_2"
Push 14
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_2"
Push 15
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_2"
Push 16
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Push 17
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_2"
Push 18
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_2"
Push 19
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_2"
Push 20
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_2"
Push 21
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 22
ArrayLValue
PushChar 103
StoreThrough
Load "__strlit_2"
Push 23
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 24
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_2"
Println
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "n"
PushChar 48
Cast Int
Add
Cast Char
Return
Return
StoreFunction "char_to_int" 1 "c" 4
Load "c"
Cast Int
Return
Return
StoreFunction "int_to_char" 1 "n" 4
Load "n"
Cast Char
Return
Return
Import 2 "std" "maths"
StoreFunction "abs" 1 "x" 18
Load "x"
Push 0
Less
JumpIfZero "else_0"
PushImmutableContext
Push 0
Load "x"
Sub
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "x"
Return
Return
StoreFunction "clamp" 3 "x" "lo" "hi" 29
Load "x"
Load "lo"
Less
JumpIfZero "else_0"
PushImmutableContext
Load "lo"
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "x"
Load "hi"
Greater
JumpIfZero "else_2"
PushImmutableContext
Load "hi"
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "x"
Return
Return
StoreFunction "square" 1 "x" 5
Load "x"
Load "x"
Mul
Return
Return
StoreFunction "cube" 1 "x" 7
Load "x"
Load "x"
Mul
Load "x"
Mul
Return
Return
StoreFunction "min" 2 "x" "y" 16
Load "x"
Load "y"
Greater
JumpIfZero "else_0"
PushImmutableContext
Load "y"
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "x"
Return
Return
StoreFunction "max" 2 "x" "y" 16
Load "x"
Load "y"
Greater
JumpIfZero "else_0"
PushImmutableContext
Load "x"
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "y"
Return
Return
StoreFunction "sign" 1 "x" 31
Load "x"
Push 0
Greater
JumpIfZero "else_0"
PushImmutableContext
Push 1
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "x"
Push 0
Less
JumpIfZero "else_2"
PushImmutableContext
Push 0
Push 1
Sub
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Push 0
Return
Return
StoreFunction "iseven" 1 "x" 19
Load "x"
Call "abs" 1
Push 2
Modulo
Push 0
Equal
JumpIfZero "else_0"
PushImmutableContext
Push 1
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Push 0
Return
Return
StoreFunction "isodd" 1 "x" 19
Load "x"
Call "abs" 1
Push 2
Modulo
Push 0
NotEqual
JumpIfZero "else_0"
PushImmutableContext
Push 1
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Push 0
Return
Return
StoreFunction "mod" 2 "a" "b" 24
Load "b"
Push 0
Equal
JumpIfZero "else_0"
PushImmutableContext
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "a"
Call "abs" 1
Store "a"
Load "b"
Call "abs" 1
Store "b"
Load "a"
Load "b"
Modulo
Return
Return
StoreFunction "sqrt" 1 "x" 45
Load "x"
Push 0
Less
JumpIfZero "else_0"
PushImmutableContext
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Push 1
Add
Load "i"
Push 1
Add
Mul
Load "x"
Greater
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
Load "i"
Return
Return
StoreStruct "Vec" 2
Field "items" None
Field "len" Mutable 2
Push 0
Return
StoreFunction "vec_new" 1 "cap" 14
NewStruct "Vec"
StoreImmutable "v"
Load "v"
FieldLValue "items"
Load "cap"
ArrayNew
StoreThrough
Load "v"
FieldLValue "len"
Push 0
StoreThrough
Load "v"
Return
Return
StoreFunction "vec_len" 1 "v" 4
Load "v"
FieldGet "len"
Return
Return
StoreFunction "vec_push" 2 "v" "val" 74
Load "v"
FieldGet "len"
Load "v"
FieldGet "items"
GreaterEqual
JumpIfZero "else_0"
PushImmutableContext
Load "v"
FieldGet "items"
Push 2
Mul
Push 1
Add
Store "newcap"
Load "newcap"
ArrayNew
StoreImmutable "newitems"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Load "v"
FieldGet "len"
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "newitems"
Load "i"
ArrayLValue
Load "v"
FieldGet "items"
Load "i"
ArrayGet
StoreThrough
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
Load "v"
FieldLValue "items"
Load "newitems"
StoreThrough
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "v"
FieldLValue "items"
Load "v"
FieldGet "len"
ArrayLValue
Load "val"
StoreThrough
Load "v"
FieldLValue "len"
Load "v"
FieldGet "len"
Push 1
Add
StoreThrough
Return
StoreFunction "vec_last" 1 "v" 22
Load "v"
FieldGet "len"
Push 0
Equal
JumpIfZero "else_0"
PushImmutableContext
Error "vec_last on empty vec"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "v"
FieldGet "items"
Load "v"
FieldGet "len"
Push 1
Sub
ArrayGet
Return
Return
StoreFunction "vec_pop" 1 "v" 27
Load "v"
FieldGet "len"
Push 0
Equal
JumpIfZero "else_0"
PushImmutableContext
Error "vec_pop on empty vec"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "v"
FieldLValue "len"
Load "v"
FieldGet "len"
Push 1
Sub
StoreThrough
Load "v"
FieldGet "items"
Load "v"
FieldGet "len"
ArrayGet
Return
Return
StoreFunction "vec_to_array" 1 "v" 39
Load "v"
FieldGet "len"
ArrayNew
StoreImmutable "out"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "v"
FieldGet "len"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "out"
Load "i"
ArrayLValue
Load "v"
FieldGet "items"
Load "i"
ArrayGet
StoreThrough
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "out"
Return
Return
StoreFunction "str_len" 1 "s" 4
Load "s"
Cast Int
Return
Return
StoreFunction "str_empty" 0 4
Push 0
ArrayNew
Return
Return
StoreFunction "str_from_char" 1 "c" 11
Push 1
ArrayNew
StoreImmutable "out"
Load "out"
Push 0
ArrayLValue
Load "c"
StoreThrough
Load "out"
Return
Return
StoreFunction "str_append" 2 "a" "b" 76
Load "a"
Cast Int
StoreImmutable "na"
Load "b"
Cast Int
StoreImmutable "nb"
Load "na"
Load "nb"
Add
ArrayNew
StoreImmutable "out"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "na"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "out"
Load "i"
ArrayLValue
Load "a"
Load "i"
ArrayGet
StoreThrough
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Push 0
Store "j"
StoreReactive "dj" 1 "j" 4
Load "j"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_4"
ClearImmutableContext
Load "j"
Load "nb"
GreaterEqual
JumpIfZero "else_6"
PushImmutableContext
Jump "loop_end_5"
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "out"
Load "na"
Load "j"
Add
ArrayLValue
Load "b"
Load "j"
ArrayGet
StoreThrough
Load "dj"
Store "j"
Jump "loop_start_4"
Label "loop_end_5"
PopImmutableContext
Load "out"
Return
Return
StoreFunction "str_append_char" 2 "a" "c" 46
Load "a"
Cast Int
StoreImmutable "na"
Load "na"
Push 1
Add
ArrayNew
StoreImmutable "out"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "na"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "out"
Load "i"
ArrayLValue
Load "a"
Load "i"
ArrayGet
StoreThrough
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "out"
Load "na"
ArrayLValue
Load "c"
StoreThrough
Load "out"
Return
Return
StoreFunction "str_equals" 2 "a" "b" 58
Load "a"
Cast Int
Load "b"
Cast Int
NotEqual
JumpIfZero "else_0"
PushImmutableContext
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Load "a"
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "a"
Load "i"
ArrayGet
Load "b"
Load "i"
ArrayGet
NotEqual
JumpIfZero "else_6"
PushImmutableContext
Push 0
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
Push 1
Return
Return
StoreFunction "str_compare" 2 "a" "b" 113
Load "a"
Cast Int
StoreImmutable "la"
Load "b"
Cast Int
StoreImmutable "lb"
Load "la"
Store "n"
Load "lb"
Load "n"
Less
JumpIfZero "else_0"
PushImmutableContext
Load "lb"
Store "n"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Load "n"
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "a"
Load "i"
ArrayGet
Cast Int
StoreImmutable "ca"
Load "b"
Load "i"
ArrayGet
Cast Int
StoreImmutable "cb"
Load "ca"
Load "cb"
Less
JumpIfZero "else_6"
PushImmutableContext
Push 0
Push 1
Sub
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "ca"
Load "cb"
Greater
JumpIfZero "else_8"
PushImmutableContext
Push 1
Return
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
Load "la"
Load "lb"
Less
JumpIfZero "else_10"
PushImmutableContext
Push 0
Push 1
Sub
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "la"
Load "lb"
Greater
JumpIfZero "else_12"
PushImmutableContext
Push 1
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Push 0
Return
Return
StoreFunction "str_from_int" 1 "n" 140
Load "n"
Push 0
Equal
JumpIfZero "else_0"
PushImmutableContext
Push 1
ArrayNew
Store "__strlit_2"
Load "__strlit_2"
Push 0
ArrayLValue
PushChar 48
StoreThrough
Load "__strlit_2"
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Push 0
Store "neg"
Load "n"
Push 0
Less
JumpIfZero "else_3"
PushImmutableContext
Push 1
Store "neg"
Push 0
Load "n"
Sub
Store "n"
PopImmutableContext
Jump "ifend_4"
Label "else_3"
PushImmutableContext
PopImmutableContext
Label "ifend_4"
Push 0
ArrayNew
StoreImmutable "digits"
PushImmutableContext
Label "loop_start_5"
ClearImmutableContext
Load "n"
Push 0
Equal
JumpIfZero "else_7"
PushImmutableContext
Jump "loop_end_6"
PopImmutableContext
Jump "ifend_8"
Label "else_7"
PushImmutableContext
PopImmutableContext
Label "ifend_8"
Load "n"
Push 10
Modulo
StoreImmutable "d"
Load "digits"
Load "d"
PushChar 48
Cast Int
Add
Cast Char
Call "str_append_char" 2
Store "digits"
Load "n"
Push 10
Div
Store "n"
Jump "loop_start_5"
Label "loop_end_6"
PopImmutableContext
Load "digits"
Cast Int
StoreImmutable "len"
Load "len"
Load "neg"
Add
ArrayNew
StoreImmutable "out"
Load "neg"
Push 1
Equal
JumpIfZero "else_9"
PushImmutableContext
Load "out"
Push 0
ArrayLValue
PushChar 45
StoreThrough
PopImmutableContext
Jump "ifend_10"
Label "else_9"
PushImmutableContext
PopImmutableContext
Label "ifend_10"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_11"
ClearImmutableContext
Load "i"
Load "len"
GreaterEqual
JumpIfZero "else_13"
PushImmutableContext
Jump "loop_end_12"
PopImmutableContext
Jump "ifend_14"
Label "else_13"
PushImmutableContext
PopImmutableContext
Label "ifend_14"
Load "out"
Load "neg"
Load "i"
Add
ArrayLValue
Load "digits"
Load "len"
Push 1
Sub
Load "i"
Sub
ArrayGet
StoreThrough
Load "di"
Store "i"
Jump "loop_start_11"
Label "loop_end_12"
PopImmutableContext
Load "out"
Return
Return
StoreFunction "str_from_hex" 1 "n" 117
Load "n"
Push 0
Equal
JumpIfZero "else_0"
PushImmutableContext
Push 1
ArrayNew
Store "__strlit_2"
Load "__strlit_2"
Push 0
ArrayLValue
PushChar 48
StoreThrough
Load "__strlit_2"
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Push 0
ArrayNew
StoreImmutable "digits"
PushImmutableContext
Label "loop_start_3"
ClearImmutableContext
Load "n"
Push 0
Equal
JumpIfZero "else_5"
PushImmutableContext
Jump "loop_end_4"
PopImmutableContext
Jump "ifend_6"
Label "else_5"
PushImmutableContext
PopImmutableContext
Label "ifend_6"
Load "n"
Push 16
Modulo
StoreImmutable "d"
Load "d"
Push 10
Less
JumpIfZero "ternary_else_7"
Load "d"
PushChar 48
Cast Int
Add
Cast Char
Jump "ternary_end_8"
Label "ternary_else_7"
Load "d"
Push 10
Sub
PushChar 97
Cast Int
Add
Cast Char
Label "ternary_end_8"
StoreImmutable "c"
Load "digits"
Load "c"
Call "str_append_char" 2
Store "digits"
Load "n"
Push 16
Div
Store "n"
Jump "loop_start_3"
Label "loop_end_4"
PopImmutableContext
Load "digits"
Cast Int
StoreImmutable "len"
Load "len"
ArrayNew
StoreImmutable "out"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_9"
ClearImmutableContext
Load "i"
Load "len"
GreaterEqual
JumpIfZero "else_11"
PushImmutableContext
Jump "loop_end_10"
PopImmutableContext
Jump "ifend_12"
Label "else_11"
PushImmutableContext
PopImmutableContext
Label "ifend_12"
Load "out"
Load "i"
ArrayLValue
Load "digits"
Load "len"
Push 1
Sub
Load "i"
Sub
ArrayGet
StoreThrough
Load "di"
Store "i"
Jump "loop_start_9"
Label "loop_end_10"
PopImmutableContext
Load "out"
Return
Return
StoreFunction "str_quote" 1 "s" 239
Call "str_empty" 0
PushChar 34
Call "str_append_char" 2
StoreImmutable "out"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "s"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "s"
Load "i"
ArrayGet
StoreImmutable "c"
Load "c"
Cast Int
StoreImmutable "ci"
Load "c"
PushChar 92
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_6"
Load "__strlit_6"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_6"
Push 1
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_6"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Load "c"
PushChar 34
Equal
JumpIfZero "else_7"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_9"
Load "__strlit_9"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_9"
Push 1
ArrayLValue
PushChar 34
StoreThrough
Load "__strlit_9"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_8"
Label "else_7"
PushImmutableContext
Load "c"
PushChar 10
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_12"
Load "__strlit_12"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_12"
Push 1
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_12"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
Load "c"
PushChar 13
Equal
JumpIfZero "else_13"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_15"
Load "__strlit_15"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_15"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_15"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_14"
Label "else_13"
PushImmutableContext
Load "c"
PushChar 9
Equal
JumpIfZero "else_16"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_18"
Load "__strlit_18"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_18"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_18"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_17"
Label "else_16"
PushImmutableContext
Load "ci"
Push 32
Less
Load "ci"
Push 126
Greater
Or
JumpIfZero "else_19"
PushImmutableContext
Load "out"
Push 3
ArrayNew
Store "__strlit_21"
Load "__strlit_21"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_21"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_21"
Push 2
ArrayLValue
PushChar 123
StoreThrough
Load "__strlit_21"
Call "str_append" 2
Store "out"
Load "out"
Load "ci"
Call "str_from_hex" 1
Call "str_append" 2
Store "out"
Load "out"
Push 1
ArrayNew
Store "__strlit_22"
Load "__strlit_22"
Push 0
ArrayLValue
PushChar 125
StoreThrough
Load "__strlit_22"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_20"
Label "else_19"
PushImmutableContext
Load "out"
Load "c"
Call "str_append_char" 2
Store "out"
PopImmutableContext
Label "ifend_20"
PopImmutableContext
Label "ifend_17"
PopImmutableContext
Label "ifend_14"
PopImmutableContext
Label "ifend_11"
PopImmutableContext
Label "ifend_8"
PopImmutableContext
Label "ifend_5"
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "out"
PushChar 34
Call "str_append_char" 2
Store "out"
Load "out"
Return
Return
Import 3 "bootstrap" "experimental" "tokenizer"
Import 3 "bootstrap" "experimental" "grammar"
Import 3 "bootstrap" "experimental" "util"
Import 2 "std" "char"
StoreStruct "Lexer" 2
Field "tokens" None
Field "len" Mutable 2
Push 0
Return
StoreStruct "ReadResult" 2
Field "value" None
Field "index" Mutable 2
Push 0
Return
StoreFunction "tokenize" 1 "src" 902
Push 20
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 91
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_0"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 9
ArrayLValue
PushChar 93
StoreThrough
Load "__strlit_0"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Push 11
ArrayLValue
PushChar 84
StoreThrough
Load "__strlit_0"
Push 12
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_0"
Push 13
ArrayLValue
PushChar 107
StoreThrough
Load "__strlit_0"
Push 14
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 15
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_0"
Push 16
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 17
ArrayLValue
PushChar 122
StoreThrough
Load "__strlit_0"
Push 18
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 19
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Println
NewStruct "Lexer"
StoreImmutable "r"
Load "r"
FieldLValue "tokens"
Load "src"
Cast Int
Push 1
Add
ArrayNew
StoreThroughImmutable
Load "r"
FieldLValue "len"
Push 0
StoreThrough
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_1"
ClearImmutableContext
Load "i"
Load "src"
GreaterEqual
JumpIfZero "else_3"
PushImmutableContext
Jump "loop_end_2"
PopImmutableContext
Jump "ifend_4"
Label "else_3"
PushImmutableContext
PopImmutableContext
Label "ifend_4"
Load "src"
Load "i"
ArrayGet
StoreImmutable "c"
Load "c"
Call "is_space" 1
JumpIfZero "else_5"
PushImmutableContext
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_6"
Label "else_5"
PushImmutableContext
Load "c"
Call "is_digit" 1
JumpIfZero "else_7"
PushImmutableContext
Load "src"
Load "i"
Call "read_number" 2
StoreImmutable "res"
Load "r"
FieldLValue "tokens"
Load "r"
FieldGet "len"
ArrayLValue
Load "res"
FieldGet "value"
Call "token_number" 1
StoreThrough
Load "r"
FieldLValue "len"
Load "r"
FieldGet "len"
Push 1
Add
StoreThrough
Load "res"
FieldGet "index"
Store "i"
PopImmutableContext
Jump "ifend_8"
Label "else_7"
PushImmutableContext
Load "c"
Call "is_alpha" 1
JumpIfZero "else_9"
PushImmutableContext
Load "src"
Load "i"
Call "read_ident" 2
StoreImmutable "res"
Load "r"
FieldLValue "tokens"
Load "r"
FieldGet "len"
ArrayLValue
Load "res"
FieldGet "value"
StoreThrough
Load "r"
FieldLValue "len"
Load "r"
FieldGet "len"
Push 1
Add
StoreThrough
Load "res"
FieldGet "index"
Store "i"
PopImmutableContext
Jump "ifend_10"
Label "else_9"
PushImmutableContext
Load "c"
PushChar 35
Equal
JumpIfZero "else_11"
PushImmutableContext
Load "src"
Load "i"
Call "skip_comment" 2
Store "i"
PopImmutableContext
Jump "ifend_12"
Label "else_11"
PushImmutableContext
Load "c"
PushChar 34
Equal
JumpIfZero "else_13"
PushImmutableContext
Load "src"
Load "i"
Push 1
Add
Call "read_string" 2
StoreImmutable "res"
Load "r"
FieldLValue "tokens"
Load "r"
FieldGet "len"
ArrayLValue
Load "res"
FieldGet "value"
Call "token_string" 1
StoreThrough
Load "r"
FieldLValue "len"
Load "r"
FieldGet "len"
Push 1
Add
StoreThrough
Load "res"
FieldGet "index"
Store "i"
PopImmutableContext
Jump "ifend_14"
Label "else_13"
PushImmutableContext
Load "c"
PushChar 39
Equal
JumpIfZero "else_15"
PushImmutableContext
Load "src"
Load "i"
Push 1
Add
Call "read_char" 2
StoreImmutable "res"
Load "r"
FieldLValue "tokens"
Load "r"
FieldGet "len"
ArrayLValue
Load "res"
FieldGet "value"
Call "token_char" 1
StoreThrough
Load "r"
FieldLValue "len"
Load "r"
FieldGet "len"
Push 1
Add
StoreThrough
Load "res"
FieldGet "index"
Store "i"
PopImmutableContext
Jump "ifend_16"
Label "else_15"
PushImmutableContext
Load "c"
PushChar 43
Equal
JumpIfZero "else_17"
PushImmutableContext
Load "r"
Load "TK_Add"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_18"
Label "else_17"
PushImmutableContext
Load "c"
PushChar 45
Equal
JumpIfZero "else_19"
PushImmutableContext
Load "r"
Load "TK_Sub"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_20"
Label "else_19"
PushImmutableContext
Load "c"
PushChar 42
Equal
JumpIfZero "else_21"
PushImmutableContext
Load "r"
Load "TK_Mul"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_22"
Label "else_21"
PushImmutableContext
Load "c"
PushChar 47
Equal
JumpIfZero "else_23"
PushImmutableContext
Load "r"
Load "TK_Div"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_24"
Label "else_23"
PushImmutableContext
Load "c"
PushChar 37
Equal
JumpIfZero "else_25"
PushImmutableContext
Load "r"
Load "TK_Modulo"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_26"
Label "else_25"
PushImmutableContext
Load "c"
PushChar 40
Equal
JumpIfZero "else_27"
PushImmutableContext
Load "r"
Load "TK_LParen"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_28"
Label "else_27"
PushImmutableContext
Load "c"
PushChar 41
Equal
JumpIfZero "else_29"
PushImmutableContext
Load "r"
Load "TK_RParen"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_30"
Label "else_29"
PushImmutableContext
Load "c"
PushChar 123
Equal
JumpIfZero "else_31"
PushImmutableContext
Load "r"
Load "TK_LBrace"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_32"
Label "else_31"
PushImmutableContext
Load "c"
PushChar 125
Equal
JumpIfZero "else_33"
PushImmutableContext
Load "r"
Load "TK_RBrace"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_34"
Label "else_33"
PushImmutableContext
Load "c"
PushChar 91
Equal
JumpIfZero "else_35"
PushImmutableContext
Load "r"
Load "TK_LSquare"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_36"
Label "else_35"
PushImmutableContext
Load "c"
PushChar 93
Equal
JumpIfZero "else_37"
PushImmutableContext
Load "r"
Load "TK_RSquare"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_38"
Label "else_37"
PushImmutableContext
Load "c"
PushChar 59
Equal
JumpIfZero "else_39"
PushImmutableContext
Load "r"
Load "TK_Semicolon"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_40"
Label "else_39"
PushImmutableContext
Load "c"
PushChar 46
Equal
JumpIfZero "else_41"
PushImmutableContext
Load "r"
Load "TK_Dot"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_42"
Label "else_41"
PushImmutableContext
Load "c"
PushChar 44
Equal
JumpIfZero "else_43"
PushImmutableContext
Load "r"
Load "TK_Comma"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_44"
Label "else_43"
PushImmutableContext
Load "c"
PushChar 63
Equal
JumpIfZero "else_45"
PushImmutableContext
Load "r"
Load "TK_Question"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Jump "ifend_46"
Label "else_45"
PushImmutableContext
Load "c"
PushChar 58
Equal
JumpIfZero "else_47"
PushImmutableContext
Load "i"
Push 1
Add
Load "src"
Less
Load "src"
Load "i"
Push 1
Add
ArrayGet
PushChar 58
Equal
And
JumpIfZero "else_49"
PushImmutableContext
Load "i"
Push 2
Add
Load "src"
Less
Load "src"
Load "i"
Push 2
Add
ArrayGet
PushChar 61
Equal
And
JumpIfZero "else_51"
PushImmutableContext
Load "r"
Load "TK_ReactiveAssign"
Call "push_simple" 2
Load "i"
Push 3
Add
Store "i"
PopImmutableContext
Jump "ifend_52"
Label "else_51"
PushImmutableContext
Error "tokenizer: expected '=' after '::'"
PopImmutableContext
Label "ifend_52"
PopImmutableContext
Jump "ifend_50"
Label "else_49"
PushImmutableContext
Load "i"
Push 1
Add
Load "src"
Less
Load "src"
Load "i"
Push 1
Add
ArrayGet
PushChar 61
Equal
And
JumpIfZero "else_53"
PushImmutableContext
Load "r"
Load "TK_ImmutableAssign"
Call "push_simple" 2
Load "i"
Push 2
Add
Store "i"
PopImmutableContext
Jump "ifend_54"
Label "else_53"
PushImmutableContext
Load "r"
Load "TK_Colon"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Label "ifend_54"
PopImmutableContext
Label "ifend_50"
PopImmutableContext
Jump "ifend_48"
Label "else_47"
PushImmutableContext
Load "c"
PushChar 61
Equal
JumpIfZero "else_55"
PushImmutableContext
Load "i"
Push 1
Add
Load "src"
Less
Load "src"
Load "i"
Push 1
Add
ArrayGet
PushChar 61
Equal
And
JumpIfZero "else_57"
PushImmutableContext
Load "r"
Load "TK_Equal"
Call "push_simple" 2
Load "i"
Push 2
Add
Store "i"
PopImmutableContext
Jump "ifend_58"
Label "else_57"
PushImmutableContext
Load "r"
Load "TK_Assign"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Label "ifend_58"
PopImmutableContext
Jump "ifend_56"
Label "else_55"
PushImmutableContext
Load "c"
PushChar 33
Equal
JumpIfZero "else_59"
PushImmutableContext
Load "i"
Push 1
Add
Load "src"
Less
Load "src"
Load "i"
Push 1
Add
ArrayGet
PushChar 61
Equal
And
JumpIfZero "else_61"
PushImmutableContext
Load "r"
Load "TK_NotEqual"
Call "push_simple" 2
Load "i"
Push 2
Add
Store "i"
PopImmutableContext
Jump "ifend_62"
Label "else_61"
PushImmutableContext
Load "r"
Load "TK_Not"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Label "ifend_62"
PopImmutableContext
Jump "ifend_60"
Label "else_59"
PushImmutableContext
Load "c"
PushChar 62
Equal
JumpIfZero "else_63"
PushImmutableContext
Load "i"
Push 1
Add
Load "src"
Less
Load "src"
Load "i"
Push 1
Add
ArrayGet
PushChar 61
Equal
And
JumpIfZero "else_65"
PushImmutableContext
Load "r"
Load "TK_GreaterEqual"
Call "push_simple" 2
Load "i"
Push 2
Add
Store "i"
PopImmutableContext
Jump "ifend_66"
Label "else_65"
PushImmutableContext
Load "r"
Load "TK_Greater"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Label "ifend_66"
PopImmutableContext
Jump "ifend_64"
Label "else_63"
PushImmutableContext
Load "c"
PushChar 60
Equal
JumpIfZero "else_67"
PushImmutableContext
Load "i"
Push 1
Add
Load "src"
Less
Load "src"
Load "i"
Push 1
Add
ArrayGet
PushChar 61
Equal
And
JumpIfZero "else_69"
PushImmutableContext
Load "r"
Load "TK_LessEqual"
Call "push_simple" 2
Load "i"
Push 2
Add
Store "i"
PopImmutableContext
Jump "ifend_70"
Label "else_69"
PushImmutableContext
Load "r"
Load "TK_Less"
Call "push_simple" 2
Load "di"
Store "i"
PopImmutableContext
Label "ifend_70"
PopImmutableContext
Jump "ifend_68"
Label "else_67"
PushImmutableContext
Load "c"
PushChar 124
Equal
JumpIfZero "else_71"
PushImmutableContext
Load "i"
Push 1
Add
Load "src"
Less
Load "src"
Load "i"
Push 1
Add
ArrayGet
PushChar 124
Equal
And
JumpIfZero "else_73"
PushImmutableContext
Load "r"
Load "TK_Or"
Call "push_simple" 2
Load "i"
Push 2
Add
Store "i"
PopImmutableContext
Jump "ifend_74"
Label "else_73"
PushImmutableContext
Error "tokenizer: expected '||'"
PopImmutableContext
Label "ifend_74"
PopImmutableContext
Jump "ifend_72"
Label "else_71"
PushImmutableContext
Load "c"
PushChar 38
Equal
JumpIfZero "else_75"
PushImmutableContext
Load "i"
Push 1
Add
Load "src"
Less
Load "src"
Load "i"
Push 1
Add
ArrayGet
PushChar 38
Equal
And
JumpIfZero "else_77"
PushImmutableContext
Load "r"
Load "TK_And"
Call "push_simple" 2
Load "i"
Push 2
Add
Store "i"
PopImmutableContext
Jump "ifend_78"
Label "else_77"
PushImmutableContext
Error "tokenizer: expected '&&'"
PopImmutableContext
Label "ifend_78"
PopImmutableContext
Jump "ifend_76"
Label "else_75"
PushImmutableContext
Error "tokenizer: invalid character"
PopImmutableContext
Label "ifend_76"
PopImmutableContext
Label "ifend_72"
PopImmutableContext
Label "ifend_68"
PopImmutableContext
Label "ifend_64"
PopImmutableContext
Label "ifend_60"
PopImmutableContext
Label "ifend_56"
PopImmutableContext
Label "ifend_48"
PopImmutableContext
Label "ifend_46"
PopImmutableContext
Label "ifend_44"
PopImmutableContext
Label "ifend_42"
PopImmutableContext
Label "ifend_40"
PopImmutableContext
Label "ifend_38"
PopImmutableContext
Label "ifend_36"
PopImmutableContext
Label "ifend_34"
PopImmutableContext
Label "ifend_32"
PopImmutableContext
Label "ifend_30"
PopImmutableContext
Label "ifend_28"
PopImmutableContext
Label "ifend_26"
PopImmutableContext
Label "ifend_24"
PopImmutableContext
Label "ifend_22"
PopImmutableContext
Label "ifend_20"
PopImmutableContext
Label "ifend_18"
PopImmutableContext
Label "ifend_16"
PopImmutableContext
Label "ifend_14"
PopImmutableContext
Label "ifend_12"
PopImmutableContext
Label "ifend_10"
PopImmutableContext
Label "ifend_8"
PopImmutableContext
Label "ifend_6"
Jump "loop_start_1"
Label "loop_end_2"
PopImmutableContext
Load "r"
Return
Return
StoreFunction "push_simple" 2 "r" "kind" 16
Load "r"
FieldLValue "tokens"
Load "r"
FieldGet "len"
ArrayLValue
Load "kind"
Call "token_simple" 1
StoreThrough
Load "r"
FieldLValue "len"
Load "r"
FieldGet "len"
Push 1
Add
StoreThrough
Return
StoreFunction "read_number" 2 "src" "start" 68
NewStruct "ReadResult"
StoreImmutable "res"
Load "src"
Load "start"
ArrayGet
Call "digit_to_int" 1
Store "val"
Load "start"
Push 1
Add
Store "i"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "src"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "src"
Load "i"
ArrayGet
Call "is_digit" 1
Push 0
Equal
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "val"
Push 10
Mul
Load "src"
Load "i"
ArrayGet
Call "digit_to_int" 1
Add
Store "val"
Load "i"
Push 1
Add
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "res"
FieldLValue "value"
Load "val"
StoreThrough
Load "res"
FieldLValue "index"
Load "i"
StoreThrough
Load "res"
Return
Return
StoreFunction "read_ident" 2 "src" "start" 61
NewStruct "ReadResult"
StoreImmutable "res"
Call "str_empty" 0
StoreImmutable "name"
Load "start"
Store "i"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "src"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "src"
Load "i"
ArrayGet
StoreImmutable "c"
Load "c"
Call "is_alnum" 1
Push 0
Equal
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "name"
Load "c"
Call "str_append_char" 2
Store "name"
Load "i"
Push 1
Add
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "res"
FieldLValue "value"
Load "name"
Call "ident_token" 1
StoreThrough
Load "res"
FieldLValue "index"
Load "i"
StoreThrough
Load "res"
Return
Return
StoreFunction "ident_token" 1 "name" 565
Load "name"
Push 5
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Call "str_equals" 2
JumpIfZero "else_1"
PushImmutableContext
Load "TK_Print"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_2"
Label "else_1"
PushImmutableContext
PopImmutableContext
Label "ifend_2"
Load "name"
Push 7
ArrayNew
Store "__strlit_3"
Load "__strlit_3"
Push 0
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_3"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_3"
Push 2
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_3"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_3"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_3"
Push 5
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_3"
Push 6
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_3"
Call "str_equals" 2
JumpIfZero "else_4"
PushImmutableContext
Load "TK_Println"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "name"
Push 2
ArrayNew
Store "__strlit_6"
Load "__strlit_6"
Push 0
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_6"
Push 1
ArrayLValue
PushChar 102
StoreThrough
Load "__strlit_6"
Call "str_equals" 2
JumpIfZero "else_7"
PushImmutableContext
Load "TK_If"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_8"
Label "else_7"
PushImmutableContext
PopImmutableContext
Label "ifend_8"
Load "name"
Push 4
ArrayNew
Store "__strlit_9"
Load "__strlit_9"
Push 0
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_9"
Push 1
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_9"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_9"
Push 3
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_9"
Call "str_equals" 2
JumpIfZero "else_10"
PushImmutableContext
Load "TK_Else"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "name"
Push 4
ArrayNew
Store "__strlit_12"
Load "__strlit_12"
Push 0
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_12"
Push 1
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_12"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_12"
Push 3
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_12"
Call "str_equals" 2
JumpIfZero "else_13"
PushImmutableContext
Load "TK_Loop"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_14"
Label "else_13"
PushImmutableContext
PopImmutableContext
Label "ifend_14"
Load "name"
Push 5
ArrayNew
Store "__strlit_15"
Load "__strlit_15"
Push 0
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_15"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_15"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_15"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_15"
Push 4
ArrayLValue
PushChar 107
StoreThrough
Load "__strlit_15"
Call "str_equals" 2
JumpIfZero "else_16"
PushImmutableContext
Load "TK_Break"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_17"
Label "else_16"
PushImmutableContext
PopImmutableContext
Label "ifend_17"
Load "name"
Push 4
ArrayNew
Store "__strlit_18"
Load "__strlit_18"
Push 0
ArrayLValue
PushChar 102
StoreThrough
Load "__strlit_18"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_18"
Push 2
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_18"
Push 3
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_18"
Call "str_equals" 2
JumpIfZero "else_19"
PushImmutableContext
Load "TK_Func"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_20"
Label "else_19"
PushImmutableContext
PopImmutableContext
Label "ifend_20"
Load "name"
Push 6
ArrayNew
Store "__strlit_21"
Load "__strlit_21"
Push 0
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_21"
Push 1
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_21"
Push 2
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_21"
Push 3
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_21"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_21"
Push 5
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_21"
Call "str_equals" 2
JumpIfZero "else_22"
PushImmutableContext
Load "TK_Return"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_23"
Label "else_22"
PushImmutableContext
PopImmutableContext
Label "ifend_23"
Load "name"
Push 8
ArrayNew
Store "__strlit_24"
Load "__strlit_24"
Push 0
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_24"
Push 1
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_24"
Push 2
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_24"
Push 3
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_24"
Push 4
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_24"
Push 5
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_24"
Push 6
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_24"
Push 7
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_24"
Call "str_equals" 2
JumpIfZero "else_25"
PushImmutableContext
Load "TK_Continue"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_26"
Label "else_25"
PushImmutableContext
PopImmutableContext
Label "ifend_26"
Load "name"
Push 6
ArrayNew
Store "__strlit_27"
Load "__strlit_27"
Push 0
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_27"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_27"
Push 2
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_27"
Push 3
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_27"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_27"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_27"
Call "str_equals" 2
JumpIfZero "else_28"
PushImmutableContext
Load "TK_Struct"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_29"
Label "else_28"
PushImmutableContext
PopImmutableContext
Label "ifend_29"
Load "name"
Push 6
ArrayNew
Store "__strlit_30"
Load "__strlit_30"
Push 0
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_30"
Push 1
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_30"
Push 2
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_30"
Push 3
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_30"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_30"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_30"
Call "str_equals" 2
JumpIfZero "else_31"
PushImmutableContext
Load "TK_Import"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_32"
Label "else_31"
PushImmutableContext
PopImmutableContext
Label "ifend_32"
Load "name"
Push 6
ArrayNew
Store "__strlit_33"
Load "__strlit_33"
Push 0
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_33"
Push 1
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_33"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_33"
Push 3
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_33"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_33"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_33"
Call "str_equals" 2
JumpIfZero "else_34"
PushImmutableContext
Load "TK_Assert"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_35"
Label "else_34"
PushImmutableContext
PopImmutableContext
Label "ifend_35"
Load "name"
Push 5
ArrayNew
Store "__strlit_36"
Load "__strlit_36"
Push 0
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_36"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_36"
Push 2
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_36"
Push 3
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_36"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_36"
Call "str_equals" 2
JumpIfZero "else_37"
PushImmutableContext
Load "TK_Error"
Call "token_simple" 1
Return
PopImmutableContext
Jump "ifend_38"
Label "else_37"
PushImmutableContext
PopImmutableContext
Label "ifend_38"
Load "name"
Call "token_ident" 1
Return
Return
StoreFunction "read_string" 2 "src" "start" 88
NewStruct "ReadResult"
StoreImmutable "res"
Call "str_empty" 0
StoreImmutable "out"
Load "start"
Store "i"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "src"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Error "tokenizer: unterminated string"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "src"
Load "i"
ArrayGet
StoreImmutable "c"
Load "c"
PushChar 34
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "i"
Push 1
Add
Store "i"
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "c"
PushChar 92
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "src"
Load "i"
Push 1
Add
Call "read_escape" 2
StoreImmutable "esc"
Load "out"
Load "esc"
FieldGet "value"
Call "str_append_char" 2
Store "out"
Load "esc"
FieldGet "index"
Store "i"
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
Load "out"
Load "c"
Call "str_append_char" 2
Store "out"
Load "i"
Push 1
Add
Store "i"
PopImmutableContext
Label "ifend_7"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "res"
FieldLValue "value"
Load "out"
StoreThrough
Load "res"
FieldLValue "index"
Load "i"
StoreThrough
Load "res"
Return
Return
StoreFunction "read_char" 2 "src" "start" 104
NewStruct "ReadResult"
StoreImmutable "res"
Load "start"
Load "src"
GreaterEqual
JumpIfZero "else_0"
PushImmutableContext
Error "tokenizer: unterminated char"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "src"
Load "start"
ArrayGet
StoreImmutable "c"
Load "c"
PushChar 92
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "src"
Load "start"
Push 1
Add
Call "read_escape" 2
StoreImmutable "esc"
Load "res"
FieldLValue "value"
Load "esc"
FieldGet "value"
StoreThrough
Load "esc"
FieldGet "index"
Load "src"
GreaterEqual
Load "src"
Load "esc"
FieldGet "index"
ArrayGet
PushChar 39
NotEqual
Or
JumpIfZero "else_4"
PushImmutableContext
Error "tokenizer: unterminated char"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "res"
FieldLValue "index"
Load "esc"
FieldGet "index"
Push 1
Add
StoreThrough
Load "res"
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "start"
Push 1
Add
Load "src"
GreaterEqual
Load "src"
Load "start"
Push 1
Add
ArrayGet
PushChar 39
NotEqual
Or
JumpIfZero "else_6"
PushImmutableContext
Error "tokenizer: unterminated char"
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "res"
FieldLValue "value"
Load "c"
StoreThrough
Load "res"
FieldLValue "index"
Load "start"
Push 2
Add
StoreThrough
Load "res"
Return
Return
StoreFunction "read_escape" 2 "src" "start" 172
NewStruct "ReadResult"
StoreImmutable "res"
Load "start"
Load "src"
GreaterEqual
JumpIfZero "else_0"
PushImmutableContext
Error "tokenizer: unterminated escape"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "src"
Load "start"
ArrayGet
StoreImmutable "c"
Load "c"
PushChar 110
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "res"
FieldLValue "value"
PushChar 10
StoreThrough
Load "res"
FieldLValue "index"
Load "start"
Push 1
Add
StoreThrough
Load "res"
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "c"
PushChar 116
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "res"
FieldLValue "value"
PushChar 9
StoreThrough
Load "res"
FieldLValue "index"
Load "start"
Push 1
Add
StoreThrough
Load "res"
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "c"
PushChar 114
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "res"
FieldLValue "value"
PushChar 13
StoreThrough
Load "res"
FieldLValue "index"
Load "start"
Push 1
Add
StoreThrough
Load "res"
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "c"
PushChar 34
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "res"
FieldLValue "value"
PushChar 34
StoreThrough
Load "res"
FieldLValue "index"
Load "start"
Push 1
Add
StoreThrough
Load "res"
Return
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "c"
PushChar 39
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "res"
FieldLValue "value"
PushChar 39
StoreThrough
Load "res"
FieldLValue "index"
Load "start"
Push 1
Add
StoreThrough
Load "res"
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "c"
PushChar 92
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "res"
FieldLValue "value"
PushChar 92
StoreThrough
Load "res"
FieldLValue "index"
Load "start"
Push 1
Add
StoreThrough
Load "res"
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Load "c"
Call "is_octal_digit" 1
JumpIfZero "else_14"
PushImmutableContext
Load "src"
Load "start"
Call "read_octal" 2
Return
PopImmutableContext
Jump "ifend_15"
Label "else_14"
PushImmutableContext
PopImmutableContext
Label "ifend_15"
Error "tokenizer: invalid escape"
Return
StoreFunction "is_octal_digit" 1 "c" 13
Load "c"
Cast Int
PushChar 48
Cast Int
GreaterEqual
Load "c"
Cast Int
PushChar 55
Cast Int
LessEqual
And
Return
Return
StoreFunction "read_octal" 2 "src" "start" 91
NewStruct "ReadResult"
StoreImmutable "res"
Load "src"
Load "start"
ArrayGet
PushChar 48
Sub
Cast Int
Store "val"
Load "start"
Push 1
Add
Store "i"
Push 1
Store "count"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "src"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "count"
Push 3
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "src"
Load "i"
ArrayGet
Call "is_octal_digit" 1
Push 0
Equal
JumpIfZero "else_6"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "val"
Push 8
Mul
Load "src"
Load "i"
ArrayGet
PushChar 48
Sub
Cast Int
Add
Store "val"
Load "i"
Push 1
Add
Store "i"
Load "count"
Push 1
Add
Store "count"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "res"
FieldLValue "value"
Load "val"
Cast Char
StoreThrough
Load "res"
FieldLValue "index"
Load "i"
StoreThrough
Load "res"
Return
Return
StoreFunction "skip_comment" 2 "src" "start" 47
Load "start"
Push 1
Add
Store "i"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "src"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "src"
Load "i"
ArrayGet
PushChar 35
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "i"
Push 1
Add
Store "i"
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "i"
Push 1
Add
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "i"
Return
Return
Import 3 "bootstrap" "experimental" "parser"
Import 3 "bootstrap" "experimental" "grammar"
Import 3 "bootstrap" "experimental" "util"
StoreStruct "Parser" 3
Field "tokens" None
Field "len" Mutable 2
Push 0
Return
Field "pos" Mutable 2
Push 0
Return
StoreFunction "new_parser" 2 "tokens" "len" 17
NewStruct "Parser"
StoreImmutable "p"
Load "p"
FieldLValue "tokens"
Load "tokens"
StoreThrough
Load "p"
FieldLValue "len"
Load "len"
StoreThrough
Load "p"
FieldLValue "pos"
Push 0
StoreThrough
Load "p"
Return
Return
StoreFunction "peek" 1 "p" 23
Load "p"
FieldGet "pos"
Load "p"
FieldGet "len"
GreaterEqual
JumpIfZero "else_0"
PushImmutableContext
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "p"
FieldGet "tokens"
Load "p"
FieldGet "pos"
ArrayGet
FieldGet "kind"
Return
Return
StoreFunction "peek_n" 2 "p" "n" 27
Load "p"
FieldGet "pos"
Load "n"
Add
Load "p"
FieldGet "len"
GreaterEqual
JumpIfZero "else_0"
PushImmutableContext
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "p"
FieldGet "tokens"
Load "p"
FieldGet "pos"
Load "n"
Add
ArrayGet
FieldGet "kind"
Return
Return
StoreFunction "next_token" 1 "p" 30
Load "p"
FieldGet "pos"
Load "p"
FieldGet "len"
GreaterEqual
JumpIfZero "else_0"
PushImmutableContext
Error "parser: unexpected end of tokens"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "p"
FieldGet "tokens"
Load "p"
FieldGet "pos"
ArrayGet
StoreImmutable "t"
Load "p"
FieldLValue "pos"
Load "p"
FieldGet "pos"
Push 1
Add
StoreThrough
Load "t"
Return
Return
StoreFunction "expect" 2 "p" "kind" 17
Load "p"
Call "next_token" 1
StoreImmutable "t"
Load "t"
FieldGet "kind"
Load "kind"
NotEqual
JumpIfZero "else_0"
PushImmutableContext
Error "parser: unexpected token"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Return
StoreFunction "expect_ident" 1 "p" 20
Load "p"
Call "next_token" 1
StoreImmutable "t"
Load "t"
FieldGet "kind"
Load "TK_Ident"
NotEqual
JumpIfZero "else_0"
PushImmutableContext
Error "parser: expected identifier"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "t"
FieldGet "sval"
Return
Return
StoreFunction "parse" 2 "tokens" "len" 114
Push 17
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 91
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_0"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 9
ArrayLValue
PushChar 93
StoreThrough
Load "__strlit_0"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Push 11
ArrayLValue
PushChar 80
StoreThrough
Load "__strlit_0"
Push 12
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 13
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 14
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_0"
Push 15
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 16
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Println
Load "tokens"
Load "len"
Call "new_parser" 2
StoreImmutable "p"
Load "p"
Call "parse_program" 1
StoreImmutable "ast"
Load "p"
FieldGet "pos"
Load "p"
FieldGet "len"
NotEqual
JumpIfZero "else_1"
PushImmutableContext
Error "parser did not consume all tokens"
PopImmutableContext
Jump "ifend_2"
Label "else_1"
PushImmutableContext
PopImmutableContext
Label "ifend_2"
Load "ast"
Return
Return
StoreFunction "parse_program" 1 "p" 49
Push 8
Call "vec_new" 1
StoreImmutable "items"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Push 0
Equal
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "p"
Call "parse_toplevel" 1
StoreImmutable "toplevel"
Load "items"
Load "toplevel"
Call "vec_push" 2
Load "p"
Call "peek" 1
Load "TK_Semicolon"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "next_token" 1
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "items"
Call "vec_to_array" 1
StoreImmutable "list"
Load "list"
Call "ast_program" 1
Return
Return
StoreFunction "parse_toplevel" 1 "p" 84
Load "p"
Call "peek" 1
Load "TK_Import"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "p"
Call "parse_import" 1
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "p"
Call "peek" 1
Load "TK_Func"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "p"
Call "parse_func_def" 1
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "p"
Call "peek" 1
Load "TK_Struct"
Equal
Load "p"
Push 2
Call "peek_n" 2
Load "TK_LBrace"
Equal
And
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "parse_struct_def" 1
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "p"
Call "peek" 1
Load "TK_Ident"
Equal
Load "p"
Push 1
Call "peek_n" 2
Load "TK_ImmutableAssign"
Equal
And
JumpIfZero "else_6"
PushImmutableContext
Load "p"
Call "expect_ident" 1
StoreImmutable "name"
Load "p"
Load "TK_ImmutableAssign"
Call "expect" 2
Load "p"
Call "parse_ternary" 1
StoreImmutable "rhs"
Load "name"
Load "rhs"
Call "ast_immutable_assign" 2
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Error "parser: invalid top-level item"
Return
StoreFunction "parse_statement" 1 "p" 370
Load "p"
Call "peek" 1
Load "TK_Import"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "p"
Call "parse_import" 1
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "p"
Call "peek" 1
Load "TK_Func"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "p"
Call "parse_func_def" 1
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "p"
Call "peek" 1
Load "TK_Struct"
Equal
Load "p"
Push 2
Call "peek_n" 2
Load "TK_LBrace"
Equal
And
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "parse_struct_def" 1
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "p"
Call "peek" 1
Load "TK_Return"
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "p"
Call "parse_return" 1
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "p"
Call "peek" 1
Load "TK_Break"
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "p"
Call "next_token" 1
Call "ast_break" 0
Return
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "p"
Call "peek" 1
Load "TK_Continue"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "p"
Call "next_token" 1
Call "ast_continue" 0
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "p"
Call "peek" 1
Load "TK_If"
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "p"
Call "parse_if" 1
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Load "p"
Call "peek" 1
Load "TK_Print"
Equal
JumpIfZero "else_14"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "expr"
Load "expr"
Call "ast_print" 1
Return
PopImmutableContext
Jump "ifend_15"
Label "else_14"
PushImmutableContext
PopImmutableContext
Label "ifend_15"
Load "p"
Call "peek" 1
Load "TK_Println"
Equal
JumpIfZero "else_16"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "expr"
Load "expr"
Call "ast_println" 1
Return
PopImmutableContext
Jump "ifend_17"
Label "else_16"
PushImmutableContext
PopImmutableContext
Label "ifend_17"
Load "p"
Call "peek" 1
Load "TK_Assert"
Equal
JumpIfZero "else_18"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "expr"
Load "expr"
Call "ast_assert" 1
Return
PopImmutableContext
Jump "ifend_19"
Label "else_18"
PushImmutableContext
PopImmutableContext
Label "ifend_19"
Load "p"
Call "peek" 1
Load "TK_Error"
Equal
JumpIfZero "else_20"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "next_token" 1
StoreImmutable "t"
Load "t"
FieldGet "kind"
Load "TK_String"
NotEqual
JumpIfZero "else_22"
PushImmutableContext
Error "error expects a string literal"
PopImmutableContext
Jump "ifend_23"
Label "else_22"
PushImmutableContext
PopImmutableContext
Label "ifend_23"
Load "t"
FieldGet "sval"
Call "ast_error" 1
Return
PopImmutableContext
Jump "ifend_21"
Label "else_20"
PushImmutableContext
PopImmutableContext
Label "ifend_21"
Load "p"
Call "peek" 1
Load "TK_Loop"
Equal
JumpIfZero "else_24"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_block" 1
StoreImmutable "body"
Load "body"
Call "ast_loop" 1
Return
PopImmutableContext
Jump "ifend_25"
Label "else_24"
PushImmutableContext
PopImmutableContext
Label "ifend_25"
Load "p"
Call "peek" 1
Load "TK_Ident"
Equal
Load "p"
Push 1
Call "peek_n" 2
Load "TK_Assign"
Equal
Load "p"
Push 1
Call "peek_n" 2
Load "TK_ReactiveAssign"
Equal
Or
Load "p"
Push 1
Call "peek_n" 2
Load "TK_ImmutableAssign"
Equal
Or
And
JumpIfZero "else_26"
PushImmutableContext
Load "p"
Call "expect_ident" 1
StoreImmutable "name"
Load "p"
Call "next_token" 1
FieldGet "kind"
StoreImmutable "op"
Load "p"
Call "parse_ternary" 1
StoreImmutable "rhs"
Load "op"
Load "TK_Assign"
Equal
JumpIfZero "else_28"
PushImmutableContext
Load "name"
Load "rhs"
Call "ast_assign" 2
Return
PopImmutableContext
Jump "ifend_29"
Label "else_28"
PushImmutableContext
PopImmutableContext
Label "ifend_29"
Load "op"
Load "TK_ReactiveAssign"
Equal
JumpIfZero "else_30"
PushImmutableContext
Load "name"
Load "rhs"
Call "ast_reactive_assign" 2
Return
PopImmutableContext
Jump "ifend_31"
Label "else_30"
PushImmutableContext
PopImmutableContext
Label "ifend_31"
Load "name"
Load "rhs"
Call "ast_immutable_assign" 2
Return
PopImmutableContext
Jump "ifend_27"
Label "else_26"
PushImmutableContext
PopImmutableContext
Label "ifend_27"
Load "p"
Call "parse_ternary" 1
StoreImmutable "lhs"
Load "p"
Call "peek" 1
Load "TK_Assign"
Equal
JumpIfZero "else_32"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "rhs"
Load "lhs"
Load "rhs"
Call "ast_assign_target" 2
Return
PopImmutableContext
Jump "ifend_33"
Label "else_32"
PushImmutableContext
PopImmutableContext
Label "ifend_33"
Load "p"
Call "peek" 1
Load "TK_ReactiveAssign"
Equal
JumpIfZero "else_34"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "rhs"
Load "lhs"
Load "rhs"
Call "ast_reactive_assign_target" 2
Return
PopImmutableContext
Jump "ifend_35"
Label "else_34"
PushImmutableContext
PopImmutableContext
Label "ifend_35"
Load "p"
Call "peek" 1
Load "TK_ImmutableAssign"
Equal
JumpIfZero "else_36"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "rhs"
Load "lhs"
Load "rhs"
Call "ast_immutable_assign_target" 2
Return
PopImmutableContext
Jump "ifend_37"
Label "else_36"
PushImmutableContext
PopImmutableContext
Label "ifend_37"
Load "lhs"
Return
Return
StoreFunction "parse_import" 1 "p" 45
Load "p"
Call "next_token" 1
Push 4
Call "vec_new" 1
StoreImmutable "segments"
Load "p"
Call "expect_ident" 1
StoreImmutable "seg"
Load "segments"
Load "seg"
Call "vec_push" 2
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Load "TK_Dot"
NotEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "p"
Call "next_token" 1
Load "p"
Call "expect_ident" 1
Store "seg"
Load "segments"
Load "seg"
Call "vec_push" 2
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "segments"
Call "vec_to_array" 1
StoreImmutable "list"
Load "list"
Call "ast_import" 1
Return
Return
StoreFunction "parse_block" 1 "p" 52
Load "p"
Load "TK_LBrace"
Call "expect" 2
Push 8
Call "vec_new" 1
StoreImmutable "stmts"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Load "TK_RBrace"
Equal
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "p"
Call "parse_statement" 1
StoreImmutable "stmt"
Load "stmts"
Load "stmt"
Call "vec_push" 2
Load "p"
Call "peek" 1
Load "TK_Semicolon"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "next_token" 1
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "p"
Load "TK_RBrace"
Call "expect" 2
Load "stmts"
Call "vec_to_array" 1
Return
Return
StoreFunction "parse_if" 1 "p" 58
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "cond"
Load "p"
Call "parse_block" 1
StoreImmutable "then_block"
Push 0
ArrayNew
StoreImmutable "else_block"
Load "p"
Call "peek" 1
Load "TK_Else"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "peek" 1
Load "TK_If"
Equal
JumpIfZero "else_2"
PushImmutableContext
Push 1
Call "vec_new" 1
StoreImmutable "nested"
Load "p"
Call "parse_if" 1
StoreImmutable "nested_if"
Load "nested"
Load "nested_if"
Call "vec_push" 2
Load "nested"
Call "vec_to_array" 1
Store "else_block"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
Load "p"
Call "parse_block" 1
Store "else_block"
PopImmutableContext
Label "ifend_3"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "cond"
Load "then_block"
Load "else_block"
Call "ast_if_else" 3
Return
Return
StoreFunction "parse_func_def" 1 "p" 65
Load "p"
Call "next_token" 1
Load "p"
Call "expect_ident" 1
StoreImmutable "name"
Load "p"
Load "TK_LParen"
Call "expect" 2
Push 4
Call "vec_new" 1
StoreImmutable "params"
Load "p"
Call "peek" 1
Load "TK_RParen"
NotEqual
JumpIfZero "else_0"
PushImmutableContext
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "p"
Call "expect_ident" 1
StoreImmutable "param"
Load "params"
Load "param"
Call "vec_push" 2
Load "p"
Call "peek" 1
Load "TK_Comma"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "next_token" 1
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Label "ifend_5"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "p"
Load "TK_RParen"
Call "expect" 2
Load "p"
Call "parse_block" 1
StoreImmutable "body"
Load "params"
Call "vec_to_array" 1
StoreImmutable "list"
Load "name"
Load "list"
Load "body"
Call "ast_func_def" 3
Return
Return
StoreFunction "parse_struct_def" 1 "p" 127
Load "p"
Call "next_token" 1
Load "p"
Call "expect_ident" 1
StoreImmutable "name"
Load "p"
Load "TK_LBrace"
Call "expect" 2
Push 8
Call "vec_new" 1
StoreImmutable "fields"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Load "TK_RBrace"
Equal
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "p"
Call "expect_ident" 1
StoreImmutable "fname"
Load "FIELD_INIT_None"
Store "init_kind"
Push 0
Store "init_val"
Load "p"
Call "peek" 1
Load "TK_Assign"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "FIELD_INIT_Mutable"
Store "init_kind"
Load "p"
Call "parse_ternary" 1
Store "init_val"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_ImmutableAssign"
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "FIELD_INIT_Immutable"
Store "init_kind"
Load "p"
Call "parse_ternary" 1
Store "init_val"
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_ReactiveAssign"
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "FIELD_INIT_Reactive"
Store "init_kind"
Load "p"
Call "parse_ternary" 1
Store "init_val"
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
PopImmutableContext
Label "ifend_7"
PopImmutableContext
Label "ifend_5"
Load "fname"
Load "init_kind"
Load "init_val"
Call "field_init" 3
StoreImmutable "field"
Load "fields"
Load "field"
Call "vec_push" 2
Load "p"
Call "peek" 1
Load "TK_Semicolon"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "p"
Call "next_token" 1
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "p"
Load "TK_RBrace"
Call "expect" 2
Load "fields"
Call "vec_to_array" 1
StoreImmutable "list"
Load "name"
Load "list"
Call "ast_struct_def" 2
Return
Return
StoreFunction "parse_return" 1 "p" 36
Load "p"
Call "next_token" 1
Load "p"
Call "peek" 1
Load "TK_Semicolon"
Equal
Load "p"
Call "peek" 1
Load "TK_RBrace"
Equal
Or
Load "p"
Call "peek" 1
Push 0
Equal
Or
JumpIfZero "else_0"
PushImmutableContext
Push 0
Push 0
Call "ast_return" 2
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "p"
Call "parse_ternary" 1
StoreImmutable "expr"
Load "expr"
Push 1
Call "ast_return" 2
Return
Return
StoreFunction "parse_factor" 1 "p" 196
Load "p"
Call "next_token" 1
StoreImmutable "t"
Load "t"
FieldGet "kind"
Load "TK_Ident"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "t"
FieldGet "sval"
StoreImmutable "name"
Load "p"
Call "peek" 1
Load "TK_LParen"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "p"
Call "next_token" 1
Push 4
Call "vec_new" 1
StoreImmutable "args"
Load "p"
Call "peek" 1
Load "TK_RParen"
NotEqual
JumpIfZero "else_4"
PushImmutableContext
PushImmutableContext
Label "loop_start_6"
ClearImmutableContext
Load "p"
Call "parse_ternary" 1
StoreImmutable "arg"
Load "args"
Load "arg"
Call "vec_push" 2
Load "p"
Call "peek" 1
Load "TK_Comma"
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "p"
Call "next_token" 1
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
Jump "loop_end_7"
PopImmutableContext
Label "ifend_9"
Jump "loop_start_6"
Label "loop_end_7"
PopImmutableContext
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "p"
Load "TK_RParen"
Call "expect" 2
Load "args"
Call "vec_to_array" 1
StoreImmutable "list"
Load "name"
Load "list"
Call "ast_call" 2
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "name"
Call "ast_var" 1
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "t"
FieldGet "kind"
Load "TK_Number"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "t"
FieldGet "ival"
Call "ast_number" 1
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "t"
FieldGet "kind"
Load "TK_Char"
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "t"
FieldGet "cval"
Call "ast_char" 1
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Load "t"
FieldGet "kind"
Load "TK_String"
Equal
JumpIfZero "else_14"
PushImmutableContext
Load "t"
FieldGet "sval"
Call "ast_string" 1
Return
PopImmutableContext
Jump "ifend_15"
Label "else_14"
PushImmutableContext
PopImmutableContext
Label "ifend_15"
Load "t"
FieldGet "kind"
Load "TK_LParen"
Equal
JumpIfZero "else_16"
PushImmutableContext
Load "p"
Call "parse_ternary" 1
StoreImmutable "expr"
Load "p"
Load "TK_RParen"
Call "expect" 2
Load "expr"
Return
PopImmutableContext
Jump "ifend_17"
Label "else_16"
PushImmutableContext
PopImmutableContext
Label "ifend_17"
Load "t"
FieldGet "kind"
Load "TK_LSquare"
Equal
JumpIfZero "else_18"
PushImmutableContext
Load "p"
Call "parse_ternary" 1
StoreImmutable "size"
Load "p"
Load "TK_RSquare"
Call "expect" 2
Load "size"
Call "ast_array_new" 1
Return
PopImmutableContext
Jump "ifend_19"
Label "else_18"
PushImmutableContext
PopImmutableContext
Label "ifend_19"
Load "t"
FieldGet "kind"
Load "TK_Struct"
Equal
JumpIfZero "else_20"
PushImmutableContext
Load "p"
Call "expect_ident" 1
StoreImmutable "name"
Load "name"
Call "ast_struct_new" 1
Return
PopImmutableContext
Jump "ifend_21"
Label "else_20"
PushImmutableContext
PopImmutableContext
Label "ifend_21"
Error "parser: invalid factor"
Return
StoreFunction "parse_postfix" 1 "p" 58
Load "p"
Call "parse_factor" 1
StoreImmutable "expr"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Load "TK_LSquare"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "idx"
Load "p"
Load "TK_RSquare"
Call "expect" 2
Load "expr"
Load "idx"
Call "ast_index" 2
Store "expr"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_Dot"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "expect_ident" 1
StoreImmutable "field"
Load "expr"
Load "field"
Call "ast_field_access" 2
Store "expr"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Label "ifend_5"
PopImmutableContext
Label "ifend_3"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "expr"
Return
Return
StoreFunction "parse_unary" 1 "p" 185
Load "p"
Call "peek" 1
Load "TK_LParen"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "p"
Push 1
Call "peek_n" 2
Load "TK_Ident"
Equal
Load "p"
Push 2
Call "peek_n" 2
Load "TK_RParen"
Equal
And
JumpIfZero "else_2"
PushImmutableContext
Load "p"
FieldGet "tokens"
Load "p"
FieldGet "pos"
Push 1
Add
ArrayGet
FieldGet "sval"
StoreImmutable "name"
Load "name"
Push 3
ArrayNew
Store "__strlit_4"
Load "__strlit_4"
Push 0
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_4"
Push 1
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_4"
Push 2
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_4"
Call "str_equals" 2
JumpIfZero "else_5"
PushImmutableContext
Load "p"
FieldLValue "pos"
Load "p"
FieldGet "pos"
Push 3
Add
StoreThrough
Load "p"
Call "parse_unary" 1
StoreImmutable "expr"
Load "CAST_Int"
Load "expr"
Call "ast_cast" 2
Return
PopImmutableContext
Jump "ifend_6"
Label "else_5"
PushImmutableContext
PopImmutableContext
Label "ifend_6"
Load "name"
Push 4
ArrayNew
Store "__strlit_7"
Load "__strlit_7"
Push 0
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_7"
Push 1
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_7"
Push 2
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_7"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_7"
Call "str_equals" 2
JumpIfZero "else_8"
PushImmutableContext
Load "p"
FieldLValue "pos"
Load "p"
FieldGet "pos"
Push 3
Add
StoreThrough
Load "p"
Call "parse_unary" 1
StoreImmutable "expr"
Load "CAST_Char"
Load "expr"
Call "ast_cast" 2
Return
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "p"
Call "peek" 1
Load "TK_Sub"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "p"
Call "next_token" 1
Push 0
Call "ast_number" 1
StoreImmutable "left"
Load "p"
Call "parse_unary" 1
StoreImmutable "right"
Load "left"
Load "OP_Sub"
Load "right"
Call "ast_operation" 3
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "p"
Call "peek" 1
Load "TK_Not"
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_unary" 1
StoreImmutable "left"
Push 0
Call "ast_number" 1
StoreImmutable "right"
Load "left"
Load "OP_Equal"
Load "right"
Call "ast_operation" 3
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Load "p"
Call "parse_postfix" 1
Return
Return
StoreFunction "parse_mul" 1 "p" 79
Load "p"
Call "parse_unary" 1
StoreImmutable "expr"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Load "TK_Mul"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_unary" 1
StoreImmutable "right"
Load "expr"
Load "OP_Mul"
Load "right"
Call "ast_operation" 3
Store "expr"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_Div"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_unary" 1
StoreImmutable "right"
Load "expr"
Load "OP_Div"
Load "right"
Call "ast_operation" 3
Store "expr"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_Modulo"
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_unary" 1
StoreImmutable "right"
Load "expr"
Load "OP_Mod"
Load "right"
Call "ast_operation" 3
Store "expr"
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Label "ifend_7"
PopImmutableContext
Label "ifend_5"
PopImmutableContext
Label "ifend_3"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "expr"
Return
Return
StoreFunction "parse_add" 1 "p" 57
Load "p"
Call "parse_mul" 1
StoreImmutable "expr"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Load "TK_Add"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_mul" 1
StoreImmutable "right"
Load "expr"
Load "OP_Add"
Load "right"
Call "ast_operation" 3
Store "expr"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_Sub"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_mul" 1
StoreImmutable "right"
Load "expr"
Load "OP_Sub"
Load "right"
Call "ast_operation" 3
Store "expr"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Label "ifend_5"
PopImmutableContext
Label "ifend_3"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "expr"
Return
Return
StoreFunction "parse_cmp" 1 "p" 109
Load "p"
Call "parse_add" 1
StoreImmutable "expr"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Push 0
Store "op"
Load "p"
Call "peek" 1
Load "TK_Greater"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "OP_Greater"
Store "op"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_Less"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "OP_Less"
Store "op"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_Equal"
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "OP_Equal"
Store "op"
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_GreaterEqual"
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "OP_GreaterEqual"
Store "op"
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_LessEqual"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "OP_LessEqual"
Store "op"
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
Load "p"
Call "peek" 1
Load "TK_NotEqual"
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "OP_NotEqual"
Store "op"
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Label "ifend_13"
PopImmutableContext
Label "ifend_11"
PopImmutableContext
Label "ifend_9"
PopImmutableContext
Label "ifend_7"
PopImmutableContext
Label "ifend_5"
PopImmutableContext
Label "ifend_3"
Load "p"
Call "next_token" 1
Load "p"
Call "parse_add" 1
StoreImmutable "right"
Load "expr"
Load "op"
Load "right"
Call "ast_operation" 3
Store "expr"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "expr"
Return
Return
StoreFunction "parse_and" 1 "p" 35
Load "p"
Call "parse_cmp" 1
StoreImmutable "expr"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Load "TK_And"
NotEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "p"
Call "next_token" 1
Load "p"
Call "parse_cmp" 1
StoreImmutable "right"
Load "expr"
Load "OP_And"
Load "right"
Call "ast_operation" 3
Store "expr"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "expr"
Return
Return
StoreFunction "parse_or" 1 "p" 35
Load "p"
Call "parse_and" 1
StoreImmutable "expr"
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "p"
Call "peek" 1
Load "TK_Or"
NotEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "p"
Call "next_token" 1
Load "p"
Call "parse_and" 1
StoreImmutable "right"
Load "expr"
Load "OP_Or"
Load "right"
Call "ast_operation" 3
Store "expr"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "expr"
Return
Return
StoreFunction "parse_ternary" 1 "p" 34
Load "p"
Call "parse_or" 1
StoreImmutable "cond"
Load "p"
Call "peek" 1
Load "TK_Question"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "p"
Call "next_token" 1
Load "p"
Call "parse_ternary" 1
StoreImmutable "then_expr"
Load "p"
Load "TK_Colon"
Call "expect" 2
Load "p"
Call "parse_ternary" 1
StoreImmutable "else_expr"
Load "cond"
Load "then_expr"
Load "else_expr"
Call "ast_ternary" 3
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "cond"
Return
Return
Import 2 "std" "file"
StoreFunction "file_read" 1 "path" 4
Load "path"
Call "internal_file_read" 1
Return
Return
StoreFunction "file_write" 2 "path" "contents" 5
Load "path"
Load "contents"
Call "internal_file_write" 2
Return
Return
StoreFunction "file_exists" 1 "path" 4
Load "path"
Call "internal_file_exists" 1
Return
Return
StoreFunction "file_remove" 1 "path" 4
Load "path"
Call "internal_file_remove" 1
Return
Return
StoreStruct "LabelGen" 1
Field "counter" Mutable 2
Push 0
Return
StoreFunction "new_labelgen" 0 9
NewStruct "LabelGen"
StoreImmutable "lg"
Load "lg"
FieldLValue "counter"
Push 0
StoreThrough
Load "lg"
Return
Return
StoreFunction "label_fresh" 2 "lg" "prefix" 28
Load "prefix"
Push 1
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_0"
Call "str_append" 2
StoreImmutable "name"
Load "name"
Load "lg"
FieldGet "counter"
Call "str_from_int" 1
Call "str_append" 2
Store "name"
Load "lg"
FieldLValue "counter"
Load "lg"
FieldGet "counter"
Push 1
Add
StoreThrough
Load "name"
Return
Return
StoreFunction "vec_contains_str" 2 "v" "s" 43
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "v"
FieldGet "len"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "v"
FieldGet "items"
Load "i"
ArrayGet
Load "s"
Call "str_equals" 2
JumpIfZero "else_4"
PushImmutableContext
Push 1
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Push 0
Return
Return
StoreFunction "vec_push_unique" 2 "v" "s" 17
Load "v"
Load "s"
Call "vec_contains_str" 2
JumpIfZero "else_0"
PushImmutableContext
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "v"
Load "s"
Call "vec_push" 2
Return
StoreFunction "vec_sort_strings" 1 "v" 92
Push 1
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "v"
FieldGet "len"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "v"
FieldGet "items"
Load "i"
ArrayGet
StoreImmutable "key"
Load "i"
Push 1
Sub
Store "j"
PushImmutableContext
Label "loop_start_4"
ClearImmutableContext
Load "j"
Push 0
Less
JumpIfZero "else_6"
PushImmutableContext
Jump "loop_end_5"
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "v"
FieldGet "items"
Load "j"
ArrayGet
Load "key"
Call "str_compare" 2
Push 0
LessEqual
JumpIfZero "else_8"
PushImmutableContext
Jump "loop_end_5"
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "v"
FieldLValue "items"
Load "j"
Push 1
Add
ArrayLValue
Load "v"
FieldGet "items"
Load "j"
ArrayGet
StoreThrough
Load "j"
Push 1
Sub
Store "j"
Jump "loop_start_4"
Label "loop_end_5"
PopImmutableContext
Load "v"
FieldLValue "items"
Load "j"
Push 1
Add
ArrayLValue
Load "key"
StoreThrough
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Return
StoreFunction "join_segments" 2 "parts" "sep" 49
Call "str_empty" 0
StoreImmutable "out"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "parts"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "i"
Push 0
Greater
JumpIfZero "else_4"
PushImmutableContext
Load "out"
Load "sep"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "out"
Load "parts"
Load "i"
ArrayGet
Call "str_append" 2
Store "out"
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "out"
Return
Return
StoreFunction "compile_source" 1 "src" 134
Load "src"
Call "tokenize" 1
StoreImmutable "lex"
Load "lex"
FieldGet "tokens"
Load "lex"
FieldGet "len"
Call "parse" 2
StoreImmutable "ast"
Push 64
Call "vec_new" 1
StoreImmutable "code"
Call "new_labelgen" 0
StoreImmutable "labels"
Push 8
Call "vec_new" 1
StoreImmutable "break_stack"
Push 8
Call "vec_new" 1
StoreImmutable "continue_stack"
Push 8
Call "vec_new" 1
StoreImmutable "imports"
Push 19
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 91
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_0"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 9
ArrayLValue
PushChar 93
StoreThrough
Load "__strlit_0"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Push 11
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_0"
Push 12
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_0"
Push 13
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_0"
Push 14
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_0"
Push 15
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 16
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_0"
Push 17
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 18
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Println
Load "ast"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "code"
Call "vec_to_array" 1
Return
Return
StoreFunction "compile_source_module" 1 "src" 179
Load "src"
Call "tokenize" 1
StoreImmutable "lex"
Load "lex"
FieldGet "tokens"
Load "lex"
FieldGet "len"
Call "parse" 2
StoreImmutable "ast"
Push 64
Call "vec_new" 1
StoreImmutable "code"
Call "new_labelgen" 0
StoreImmutable "labels"
Push 8
Call "vec_new" 1
StoreImmutable "break_stack"
Push 8
Call "vec_new" 1
StoreImmutable "continue_stack"
Push 8
Call "vec_new" 1
StoreImmutable "imports"
Push 28
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 91
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_0"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 9
ArrayLValue
PushChar 93
StoreThrough
Load "__strlit_0"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Push 11
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_0"
Push 12
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_0"
Push 13
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_0"
Push 14
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_0"
Push 15
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 16
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_0"
Push 17
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 18
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 19
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Push 20
ArrayLValue
PushChar 40
StoreThrough
Load "__strlit_0"
Push 21
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_0"
Push 22
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_0"
Push 23
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_0"
Push 24
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_0"
Push 25
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_0"
Push 26
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 27
ArrayLValue
PushChar 41
StoreThrough
Load "__strlit_0"
Println
Load "ast"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_module" 6
Load "code"
Call "vec_to_array" 1
Return
Return
StoreFunction "compile_file" 2 "input_path" "output_path" 228
Load "input_path"
Call "file_read" 1
StoreImmutable "src"
Load "src"
Call "compile_source" 1
StoreImmutable "code"
Push 20
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 91
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_0"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 9
ArrayLValue
PushChar 93
StoreThrough
Load "__strlit_0"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Push 11
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_0"
Push 12
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 13
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 14
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 15
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 16
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_0"
Push 17
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 18
ArrayLValue
PushChar 122
StoreThrough
Load "__strlit_0"
Push 19
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Println
Load "code"
Call "serialize_instructions" 1
StoreImmutable "text"
Push 21
ArrayNew
Store "__strlit_1"
Load "__strlit_1"
Push 0
ArrayLValue
PushChar 91
StoreThrough
Load "__strlit_1"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_1"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_1"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_1"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_1"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_1"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_1"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_1"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_1"
Push 9
ArrayLValue
PushChar 93
StoreThrough
Load "__strlit_1"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_1"
Push 11
ArrayLValue
PushChar 87
StoreThrough
Load "__strlit_1"
Push 12
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_1"
Push 13
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_1"
Push 14
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_1"
Push 15
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_1"
Push 16
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_1"
Push 17
ArrayLValue
PushChar 102
StoreThrough
Load "__strlit_1"
Push 18
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_1"
Push 19
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_1"
Push 20
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_1"
Println
Load "output_path"
Load "text"
Call "file_write" 2
Return
StoreFunction "compile_file_module" 2 "input_path" "output_path" 228
Load "input_path"
Call "file_read" 1
StoreImmutable "src"
Load "src"
Call "compile_source_module" 1
StoreImmutable "code"
Push 20
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 91
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_0"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 9
ArrayLValue
PushChar 93
StoreThrough
Load "__strlit_0"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Push 11
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_0"
Push 12
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 13
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 14
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 15
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_0"
Push 16
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_0"
Push 17
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 18
ArrayLValue
PushChar 122
StoreThrough
Load "__strlit_0"
Push 19
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Println
Load "code"
Call "serialize_instructions" 1
StoreImmutable "text"
Push 21
ArrayNew
Store "__strlit_1"
Load "__strlit_1"
Push 0
ArrayLValue
PushChar 91
StoreThrough
Load "__strlit_1"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_1"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_1"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_1"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_1"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_1"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_1"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_1"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_1"
Push 9
ArrayLValue
PushChar 93
StoreThrough
Load "__strlit_1"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_1"
Push 11
ArrayLValue
PushChar 87
StoreThrough
Load "__strlit_1"
Push 12
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_1"
Push 13
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_1"
Push 14
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_1"
Push 15
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_1"
Push 16
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_1"
Push 17
ArrayLValue
PushChar 102
StoreThrough
Load "__strlit_1"
Push 18
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_1"
Push 19
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_1"
Push 20
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_1"
Println
Load "output_path"
Load "text"
Call "file_write" 2
Return
StoreFunction "compile_module" 6 "ast" "code" "labels" "break_stack" "continue_stack" "imports" 55
Load "ast"
FieldGet "kind"
Load "AST_Program"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "ast"
FieldGet "list"
StoreImmutable "items"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Load "items"
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "items"
Load "i"
ArrayGet
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
Load "ast"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
PopImmutableContext
Label "ifend_1"
Return
StoreFunction "compile" 6 "ast" "code" "labels" "break_stack" "continue_stack" "imports" 1640
Load "ast"
FieldGet "kind"
Load "AST_Number"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "INSTR_Push"
Load "value"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "ast"
FieldGet "kind"
Load "AST_Char"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "INSTR_PushChar"
Load "value"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "ast"
FieldGet "kind"
Load "AST_String"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "code"
Load "labels"
Call "compile_string_literal" 3
Push 0
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "ast"
FieldGet "kind"
Load "AST_Var"
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "INSTR_Load"
Load "ast"
FieldGet "name"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "ast"
FieldGet "kind"
Load "AST_ArrayNew"
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "size"
Load "size"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_ArrayNew"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "ast"
FieldGet "kind"
Load "AST_Index"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "ast"
FieldGet "b"
StoreImmutable "index"
Load "base"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "index"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_ArrayGet"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "ast"
FieldGet "kind"
Load "AST_FieldAccess"
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "base"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "ast"
FieldGet "name"
StoreImmutable "name"
Load "INSTR_FieldGet"
Load "name"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Load "ast"
FieldGet "kind"
Load "AST_Operation"
Equal
JumpIfZero "else_14"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "left"
Load "ast"
FieldGet "b"
StoreImmutable "right"
Load "left"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "right"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "ast"
FieldGet "op"
Load "code"
Call "emit_operator" 2
Push 0
Return
PopImmutableContext
Jump "ifend_15"
Label "else_14"
PushImmutableContext
PopImmutableContext
Label "ifend_15"
Load "ast"
FieldGet "kind"
Load "AST_Ternary"
Equal
JumpIfZero "else_16"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "cond"
Load "ast"
FieldGet "b"
StoreImmutable "then_expr"
Load "ast"
FieldGet "c"
StoreImmutable "else_expr"
Load "cond"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "labels"
Push 12
ArrayNew
Store "__strlit_18"
Load "__strlit_18"
Push 0
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_18"
Push 1
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_18"
Push 2
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_18"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_18"
Push 4
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_18"
Push 5
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_18"
Push 6
ArrayLValue
PushChar 121
StoreThrough
Load "__strlit_18"
Push 7
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_18"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_18"
Push 9
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_18"
Push 10
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_18"
Push 11
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_18"
Call "label_fresh" 2
StoreImmutable "else_lbl"
Load "labels"
Push 11
ArrayNew
Store "__strlit_19"
Load "__strlit_19"
Push 0
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_19"
Push 1
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_19"
Push 2
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_19"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_19"
Push 4
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_19"
Push 5
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_19"
Push 6
ArrayLValue
PushChar 121
StoreThrough
Load "__strlit_19"
Push 7
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_19"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_19"
Push 9
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_19"
Push 10
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_19"
Call "label_fresh" 2
StoreImmutable "end_lbl"
Load "INSTR_JumpIfZero"
Load "else_lbl"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "then_expr"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_Jump"
Load "end_lbl"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_Label"
Load "else_lbl"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "else_expr"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_Label"
Load "end_lbl"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_17"
Label "else_16"
PushImmutableContext
PopImmutableContext
Label "ifend_17"
Load "ast"
FieldGet "kind"
Load "AST_Call"
Equal
JumpIfZero "else_20"
PushImmutableContext
Load "ast"
FieldGet "list"
StoreImmutable "args"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_22"
ClearImmutableContext
Load "i"
Load "args"
GreaterEqual
JumpIfZero "else_24"
PushImmutableContext
Jump "loop_end_23"
PopImmutableContext
Jump "ifend_25"
Label "else_24"
PushImmutableContext
PopImmutableContext
Label "ifend_25"
Load "args"
Load "i"
ArrayGet
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "di"
Store "i"
Jump "loop_start_22"
Label "loop_end_23"
PopImmutableContext
Load "INSTR_Call"
Load "ast"
FieldGet "name"
Load "args"
Cast Int
Call "instr2" 3
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_21"
Label "else_20"
PushImmutableContext
PopImmutableContext
Label "ifend_21"
Load "ast"
FieldGet "kind"
Load "AST_Assign"
Equal
JumpIfZero "else_26"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "ast"
FieldGet "name"
StoreImmutable "name"
Load "INSTR_Store"
Load "name"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_27"
Label "else_26"
PushImmutableContext
PopImmutableContext
Label "ifend_27"
Load "ast"
FieldGet "kind"
Load "AST_ImmutableAssign"
Equal
JumpIfZero "else_28"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "ast"
FieldGet "name"
StoreImmutable "name"
Load "INSTR_StoreImmutable"
Load "name"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_29"
Label "else_28"
PushImmutableContext
PopImmutableContext
Label "ifend_29"
Load "ast"
FieldGet "kind"
Load "AST_ReactiveAssign"
Equal
JumpIfZero "else_30"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "imports"
Call "compile_reactive_expr" 2
StoreImmutable "reactive"
Load "ast"
FieldGet "name"
StoreImmutable "name"
Load "INSTR_StoreReactive"
Load "name"
Load "reactive"
Call "instr2" 3
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_31"
Label "else_30"
PushImmutableContext
PopImmutableContext
Label "ifend_31"
Load "ast"
FieldGet "kind"
Load "AST_AssignTarget"
Equal
JumpIfZero "else_32"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "target"
Load "ast"
FieldGet "b"
StoreImmutable "value"
Load "target"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_lvalue" 6
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_StoreThrough"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_33"
Label "else_32"
PushImmutableContext
PopImmutableContext
Label "ifend_33"
Load "ast"
FieldGet "kind"
Load "AST_ReactiveAssignTarget"
Equal
JumpIfZero "else_34"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "target"
Load "ast"
FieldGet "b"
StoreImmutable "value"
Load "target"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_lvalue" 6
Load "value"
Load "imports"
Call "compile_reactive_expr" 2
StoreImmutable "reactive"
Load "INSTR_StoreThroughReactive"
Load "reactive"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_35"
Label "else_34"
PushImmutableContext
PopImmutableContext
Label "ifend_35"
Load "ast"
FieldGet "kind"
Load "AST_ImmutableAssignTarget"
Equal
JumpIfZero "else_36"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "target"
Load "ast"
FieldGet "b"
StoreImmutable "value"
Load "target"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_lvalue" 6
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_StoreThroughImmutable"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_37"
Label "else_36"
PushImmutableContext
PopImmutableContext
Label "ifend_37"
Load "ast"
FieldGet "kind"
Load "AST_FieldAssign"
Equal
JumpIfZero "else_38"
PushImmutableContext
Load "ast"
FieldGet "flag"
Load "FIELD_ASSIGN_Normal"
Equal
JumpIfZero "else_40"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "ast"
FieldGet "b"
StoreImmutable "value"
Load "base"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "ast"
FieldGet "name"
StoreImmutable "name"
Load "INSTR_FieldSet"
Load "name"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_41"
Label "else_40"
PushImmutableContext
PopImmutableContext
Label "ifend_41"
Load "ast"
FieldGet "flag"
Load "FIELD_ASSIGN_Reactive"
Equal
JumpIfZero "else_42"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "ast"
FieldGet "b"
StoreImmutable "value"
Load "base"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "value"
Load "imports"
Call "compile_reactive_expr" 2
StoreImmutable "reactive"
Load "ast"
FieldGet "name"
StoreImmutable "name"
Load "INSTR_FieldSetReactive"
Load "name"
Load "reactive"
Call "instr2" 3
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_43"
Label "else_42"
PushImmutableContext
PopImmutableContext
Label "ifend_43"
Error "compiler: immutable field assignment not allowed"
PopImmutableContext
Jump "ifend_39"
Label "else_38"
PushImmutableContext
PopImmutableContext
Label "ifend_39"
Load "ast"
FieldGet "kind"
Load "AST_IfElse"
Equal
JumpIfZero "else_44"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "cond"
Load "ast"
FieldGet "b"
StoreImmutable "then_block"
Load "ast"
FieldGet "c"
StoreImmutable "else_block"
Load "cond"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "labels"
Push 4
ArrayNew
Store "__strlit_46"
Load "__strlit_46"
Push 0
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_46"
Push 1
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_46"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_46"
Push 3
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_46"
Call "label_fresh" 2
StoreImmutable "else_lbl"
Load "labels"
Push 5
ArrayNew
Store "__strlit_47"
Load "__strlit_47"
Push 0
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_47"
Push 1
ArrayLValue
PushChar 102
StoreThrough
Load "__strlit_47"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_47"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_47"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_47"
Call "label_fresh" 2
StoreImmutable "end_lbl"
Load "INSTR_JumpIfZero"
Load "else_lbl"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_PushImmutableContext"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "then_block"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_block" 6
Load "INSTR_PopImmutableContext"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_Jump"
Load "end_lbl"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_Label"
Load "else_lbl"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_PushImmutableContext"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "else_block"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_block" 6
Load "INSTR_PopImmutableContext"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_Label"
Load "end_lbl"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_45"
Label "else_44"
PushImmutableContext
PopImmutableContext
Label "ifend_45"
Load "ast"
FieldGet "kind"
Load "AST_Loop"
Equal
JumpIfZero "else_48"
PushImmutableContext
Load "labels"
Push 10
ArrayNew
Store "__strlit_50"
Load "__strlit_50"
Push 0
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_50"
Push 1
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_50"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_50"
Push 3
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_50"
Push 4
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_50"
Push 5
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_50"
Push 6
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_50"
Push 7
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_50"
Push 8
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_50"
Push 9
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_50"
Call "label_fresh" 2
StoreImmutable "start"
Load "labels"
Push 8
ArrayNew
Store "__strlit_51"
Load "__strlit_51"
Push 0
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_51"
Push 1
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_51"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_51"
Push 3
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_51"
Push 4
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_51"
Push 5
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_51"
Push 6
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_51"
Push 7
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_51"
Call "label_fresh" 2
StoreImmutable "end"
Load "break_stack"
Load "end"
Call "vec_push" 2
Load "continue_stack"
Load "start"
Call "vec_push" 2
Load "INSTR_PushImmutableContext"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_Label"
Load "start"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_ClearImmutableContext"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "ast"
FieldGet "list"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_block" 6
Load "INSTR_Jump"
Load "start"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_Label"
Load "end"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_PopImmutableContext"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "break_stack"
Call "vec_pop" 1
Load "continue_stack"
Call "vec_pop" 1
Push 0
Return
PopImmutableContext
Jump "ifend_49"
Label "else_48"
PushImmutableContext
PopImmutableContext
Label "ifend_49"
Load "ast"
FieldGet "kind"
Load "AST_Break"
Equal
JumpIfZero "else_52"
PushImmutableContext
Load "break_stack"
Call "vec_last" 1
StoreImmutable "label"
Load "INSTR_Jump"
Load "label"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_53"
Label "else_52"
PushImmutableContext
PopImmutableContext
Label "ifend_53"
Load "ast"
FieldGet "kind"
Load "AST_Continue"
Equal
JumpIfZero "else_54"
PushImmutableContext
Load "continue_stack"
Call "vec_last" 1
StoreImmutable "label"
Load "INSTR_Jump"
Load "label"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_55"
Label "else_54"
PushImmutableContext
PopImmutableContext
Label "ifend_55"
Load "ast"
FieldGet "kind"
Load "AST_Return"
Equal
JumpIfZero "else_56"
PushImmutableContext
Load "ast"
FieldGet "flag"
Push 1
Equal
JumpIfZero "else_58"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
PopImmutableContext
Jump "ifend_59"
Label "else_58"
PushImmutableContext
Load "INSTR_Push"
Push 0
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
PopImmutableContext
Label "ifend_59"
Load "INSTR_Return"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_57"
Label "else_56"
PushImmutableContext
PopImmutableContext
Label "ifend_57"
Load "ast"
FieldGet "kind"
Load "AST_FuncDef"
Equal
JumpIfZero "else_60"
PushImmutableContext
Load "ast"
FieldGet "body"
Load "imports"
Call "compile_function_body" 2
StoreImmutable "func_code"
Load "INSTR_StoreFunction"
Load "ast"
FieldGet "name"
Load "ast"
FieldGet "params"
Load "func_code"
Call "instr3" 4
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_61"
Label "else_60"
PushImmutableContext
PopImmutableContext
Label "ifend_61"
Load "ast"
FieldGet "kind"
Load "AST_StructDef"
Equal
JumpIfZero "else_62"
PushImmutableContext
Load "ast"
FieldGet "list"
Load "imports"
Call "compile_struct_fields" 2
StoreImmutable "fields"
Load "INSTR_StoreStruct"
Load "ast"
FieldGet "name"
Load "fields"
Call "instr2" 3
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_63"
Label "else_62"
PushImmutableContext
PopImmutableContext
Label "ifend_63"
Load "ast"
FieldGet "kind"
Load "AST_StructNew"
Equal
JumpIfZero "else_64"
PushImmutableContext
Load "INSTR_NewStruct"
Load "ast"
FieldGet "name"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_65"
Label "else_64"
PushImmutableContext
PopImmutableContext
Label "ifend_65"
Load "ast"
FieldGet "kind"
Load "AST_Import"
Equal
JumpIfZero "else_66"
PushImmutableContext
Load "ast"
FieldGet "list"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_import" 6
Push 0
Return
PopImmutableContext
Jump "ifend_67"
Label "else_66"
PushImmutableContext
PopImmutableContext
Label "ifend_67"
Load "ast"
FieldGet "kind"
Load "AST_Program"
Equal
JumpIfZero "else_68"
PushImmutableContext
Load "ast"
FieldGet "list"
StoreImmutable "items"
Push 0
Store "has_main"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_70"
ClearImmutableContext
Load "i"
Load "items"
GreaterEqual
JumpIfZero "else_72"
PushImmutableContext
Jump "loop_end_71"
PopImmutableContext
Jump "ifend_73"
Label "else_72"
PushImmutableContext
PopImmutableContext
Label "ifend_73"
Load "items"
Load "i"
ArrayGet
StoreImmutable "item"
Load "item"
FieldGet "kind"
Load "AST_FuncDef"
Equal
JumpIfZero "else_74"
PushImmutableContext
Load "item"
FieldGet "name"
Push 4
ArrayNew
Store "__strlit_76"
Load "__strlit_76"
Push 0
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_76"
Push 1
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_76"
Push 2
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_76"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_76"
Call "str_equals" 2
JumpIfZero "else_77"
PushImmutableContext
Push 1
Store "has_main"
PopImmutableContext
Jump "ifend_78"
Label "else_77"
PushImmutableContext
PopImmutableContext
Label "ifend_78"
PopImmutableContext
Jump "ifend_75"
Label "else_74"
PushImmutableContext
PopImmutableContext
Label "ifend_75"
Load "item"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "di"
Store "i"
Jump "loop_start_70"
Label "loop_end_71"
PopImmutableContext
Load "has_main"
Push 0
Equal
JumpIfZero "else_79"
PushImmutableContext
Error "no `main` function defined"
PopImmutableContext
Jump "ifend_80"
Label "else_79"
PushImmutableContext
PopImmutableContext
Label "ifend_80"
Load "INSTR_Call"
Push 4
ArrayNew
Store "__strlit_81"
Load "__strlit_81"
Push 0
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_81"
Push 1
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_81"
Push 2
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_81"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_81"
Push 0
Call "instr2" 3
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_Return"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_69"
Label "else_68"
PushImmutableContext
PopImmutableContext
Label "ifend_69"
Load "ast"
FieldGet "kind"
Load "AST_Print"
Equal
JumpIfZero "else_82"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_Print"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_83"
Label "else_82"
PushImmutableContext
PopImmutableContext
Label "ifend_83"
Load "ast"
FieldGet "kind"
Load "AST_Println"
Equal
JumpIfZero "else_84"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_Println"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_85"
Label "else_84"
PushImmutableContext
PopImmutableContext
Label "ifend_85"
Load "ast"
FieldGet "kind"
Load "AST_Assert"
Equal
JumpIfZero "else_86"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_Assert"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_87"
Label "else_86"
PushImmutableContext
PopImmutableContext
Label "ifend_87"
Load "ast"
FieldGet "kind"
Load "AST_Error"
Equal
JumpIfZero "else_88"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "msg"
Load "INSTR_Error"
Load "msg"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_89"
Label "else_88"
PushImmutableContext
PopImmutableContext
Label "ifend_89"
Load "ast"
FieldGet "kind"
Load "AST_Cast"
Equal
JumpIfZero "else_90"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "ast"
FieldGet "flag"
StoreImmutable "flag"
Load "INSTR_Cast"
Load "flag"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_91"
Label "else_90"
PushImmutableContext
PopImmutableContext
Label "ifend_91"
Error "compiler: unknown AST node"
Return
StoreFunction "compile_block" 6 "block" "code" "labels" "break_stack" "continue_stack" "imports" 33
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "block"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "block"
Load "i"
ArrayGet
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Return
StoreFunction "compile_function_body" 2 "body" "imports" 28
Push 16
Call "vec_new" 1
StoreImmutable "code"
Call "new_labelgen" 0
StoreImmutable "labels"
Push 4
Call "vec_new" 1
StoreImmutable "break_stack"
Push 4
Call "vec_new" 1
StoreImmutable "continue_stack"
Load "body"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_block" 6
Load "INSTR_Return"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "code"
Call "vec_to_array" 1
Return
Return
StoreFunction "compile_struct_fields" 2 "fields" "imports" 134
Push 8
Call "vec_new" 1
StoreImmutable "out"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "fields"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "fields"
Load "i"
ArrayGet
StoreImmutable "f"
Load "f"
FieldGet "kind"
Load "FIELD_INIT_None"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "f"
FieldGet "name"
Load "FIELD_INIT_None"
Push 0
Call "field_init" 3
StoreImmutable "init"
Load "out"
Load "init"
Call "vec_push" 2
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Load "f"
FieldGet "kind"
Load "FIELD_INIT_Mutable"
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "f"
FieldGet "value"
Load "imports"
Call "compile_expr_to_code" 2
StoreImmutable "code"
Load "f"
FieldGet "name"
Load "FIELD_INIT_Mutable"
Load "code"
Call "field_init" 3
StoreImmutable "init"
Load "out"
Load "init"
Call "vec_push" 2
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
Load "f"
FieldGet "kind"
Load "FIELD_INIT_Immutable"
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "f"
FieldGet "value"
Load "imports"
Call "compile_expr_to_code" 2
StoreImmutable "code"
Load "f"
FieldGet "name"
Load "FIELD_INIT_Immutable"
Load "code"
Call "field_init" 3
StoreImmutable "init"
Load "out"
Load "init"
Call "vec_push" 2
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
Load "f"
FieldGet "kind"
Load "FIELD_INIT_Reactive"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "f"
FieldGet "value"
Load "imports"
Call "compile_reactive_expr" 2
StoreImmutable "reactive"
Load "f"
FieldGet "name"
Load "FIELD_INIT_Reactive"
Load "reactive"
Call "field_init" 3
StoreImmutable "init"
Load "out"
Load "init"
Call "vec_push" 2
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
Error "compiler: unknown field init kind"
PopImmutableContext
Label "ifend_11"
PopImmutableContext
Label "ifend_9"
PopImmutableContext
Label "ifend_7"
PopImmutableContext
Label "ifend_5"
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "out"
Call "vec_to_array" 1
Return
Return
StoreFunction "compile_expr_to_code" 2 "ast" "imports" 28
Push 8
Call "vec_new" 1
StoreImmutable "code"
Call "new_labelgen" 0
StoreImmutable "labels"
Push 4
Call "vec_new" 1
StoreImmutable "break_stack"
Push 4
Call "vec_new" 1
StoreImmutable "continue_stack"
Load "ast"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_Return"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "code"
Call "vec_to_array" 1
Return
Return
StoreFunction "compile_reactive_expr" 2 "ast" "imports" 18
Push 8
Call "vec_new" 1
StoreImmutable "names"
Load "ast"
Load "names"
Call "collect_free_vars" 2
Load "names"
Call "vec_sort_strings" 1
Load "ast"
Load "imports"
Call "compile_expr_to_code" 2
StoreImmutable "code"
Load "names"
Call "vec_to_array" 1
Load "code"
Call "reactive_expr" 2
Return
Return
StoreFunction "collect_free_vars_list" 2 "list" "out" 29
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "list"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "list"
Load "i"
ArrayGet
Load "out"
Call "collect_free_vars" 2
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Return
StoreFunction "collect_free_vars" 2 "ast" "out" 308
Load "ast"
FieldGet "kind"
Load "AST_Var"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "out"
Load "ast"
FieldGet "name"
Call "vec_push_unique" 2
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "ast"
FieldGet "kind"
Load "AST_Operation"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "left"
Load "ast"
FieldGet "b"
StoreImmutable "right"
Load "left"
Load "out"
Call "collect_free_vars" 2
Load "right"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "ast"
FieldGet "kind"
Load "AST_Index"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "ast"
FieldGet "b"
StoreImmutable "index"
Load "base"
Load "out"
Call "collect_free_vars" 2
Load "index"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "ast"
FieldGet "kind"
Load "AST_FieldAccess"
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "base"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "ast"
FieldGet "kind"
Load "AST_Ternary"
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "cond"
Load "ast"
FieldGet "b"
StoreImmutable "then_expr"
Load "ast"
FieldGet "c"
StoreImmutable "else_expr"
Load "cond"
Load "out"
Call "collect_free_vars" 2
Load "then_expr"
Load "out"
Call "collect_free_vars" 2
Load "else_expr"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "ast"
FieldGet "kind"
Load "AST_Call"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "ast"
FieldGet "list"
Load "out"
Call "collect_free_vars_list" 2
Push 0
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "ast"
FieldGet "kind"
Load "AST_ArrayNew"
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "size"
Load "size"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Load "ast"
FieldGet "kind"
Load "AST_Assign"
Equal
Load "ast"
FieldGet "kind"
Load "AST_ImmutableAssign"
Equal
Or
Load "ast"
FieldGet "kind"
Load "AST_ReactiveAssign"
Equal
Or
JumpIfZero "else_14"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_15"
Label "else_14"
PushImmutableContext
PopImmutableContext
Label "ifend_15"
Load "ast"
FieldGet "kind"
Load "AST_AssignTarget"
Equal
Load "ast"
FieldGet "kind"
Load "AST_ReactiveAssignTarget"
Equal
Or
JumpIfZero "else_16"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "target"
Load "ast"
FieldGet "b"
StoreImmutable "value"
Load "target"
Load "out"
Call "collect_free_vars" 2
Load "value"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_17"
Label "else_16"
PushImmutableContext
PopImmutableContext
Label "ifend_17"
Load "ast"
FieldGet "kind"
Load "AST_ImmutableAssignTarget"
Equal
JumpIfZero "else_18"
PushImmutableContext
Load "ast"
FieldGet "b"
StoreImmutable "value"
Load "value"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_19"
Label "else_18"
PushImmutableContext
PopImmutableContext
Label "ifend_19"
Load "ast"
FieldGet "kind"
Load "AST_FieldAssign"
Equal
JumpIfZero "else_20"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "ast"
FieldGet "b"
StoreImmutable "value"
Load "base"
Load "out"
Call "collect_free_vars" 2
Load "value"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_21"
Label "else_20"
PushImmutableContext
PopImmutableContext
Label "ifend_21"
Load "ast"
FieldGet "kind"
Load "AST_Cast"
Equal
JumpIfZero "else_22"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_23"
Label "else_22"
PushImmutableContext
PopImmutableContext
Label "ifend_23"
Load "ast"
FieldGet "kind"
Load "AST_Assert"
Equal
JumpIfZero "else_24"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "value"
Load "value"
Load "out"
Call "collect_free_vars" 2
Push 0
Return
PopImmutableContext
Jump "ifend_25"
Label "else_24"
PushImmutableContext
PopImmutableContext
Label "ifend_25"
Return
StoreFunction "compile_lvalue" 6 "ast" "code" "labels" "break_stack" "continue_stack" "imports" 100
Load "ast"
FieldGet "kind"
Load "AST_Var"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "ast"
FieldGet "name"
StoreImmutable "name"
Load "INSTR_Load"
Load "name"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "ast"
FieldGet "kind"
Load "AST_Index"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "ast"
FieldGet "b"
StoreImmutable "index"
Load "base"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_lvalue" 6
Load "index"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile" 6
Load "INSTR_ArrayLValue"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "ast"
FieldGet "kind"
Load "AST_FieldAccess"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "ast"
FieldGet "a"
StoreImmutable "base"
Load "base"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_lvalue" 6
Load "ast"
FieldGet "name"
StoreImmutable "name"
Load "INSTR_FieldLValue"
Load "name"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Error "compiler: invalid assignment target"
Return
StoreFunction "compile_import" 6 "path" "code" "labels" "break_stack" "continue_stack" "imports" 136
Load "INSTR_Import"
Load "path"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "path"
Push 1
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 46
StoreThrough
Load "__strlit_0"
Call "join_segments" 2
StoreImmutable "module_name"
Load "imports"
Load "module_name"
Call "vec_contains_str" 2
JumpIfZero "else_1"
PushImmutableContext
Push 0
Return
PopImmutableContext
Jump "ifend_2"
Label "else_1"
PushImmutableContext
PopImmutableContext
Label "ifend_2"
Load "imports"
Load "module_name"
Call "vec_push" 2
Load "path"
Push 1
ArrayNew
Store "__strlit_3"
Load "__strlit_3"
Push 0
ArrayLValue
PushChar 47
StoreThrough
Load "__strlit_3"
Call "join_segments" 2
StoreImmutable "rel_path"
Push 8
ArrayNew
Store "__strlit_4"
Load "__strlit_4"
Push 0
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_4"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_4"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_4"
Push 3
ArrayLValue
PushChar 106
StoreThrough
Load "__strlit_4"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_4"
Push 5
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_4"
Push 6
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_4"
Push 7
ArrayLValue
PushChar 47
StoreThrough
Load "__strlit_4"
Load "rel_path"
Call "str_append" 2
StoreImmutable "file_path"
Load "file_path"
Push 3
ArrayNew
Store "__strlit_5"
Load "__strlit_5"
Push 0
ArrayLValue
PushChar 46
StoreThrough
Load "__strlit_5"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_5"
Push 2
ArrayLValue
PushChar 120
StoreThrough
Load "__strlit_5"
Call "str_append" 2
Store "file_path"
Load "file_path"
Call "file_read" 1
StoreImmutable "source"
Load "source"
Call "tokenize" 1
StoreImmutable "lex"
Load "lex"
FieldGet "tokens"
Load "lex"
FieldGet "len"
Call "parse" 2
StoreImmutable "ast"
Load "ast"
Load "code"
Load "labels"
Load "break_stack"
Load "continue_stack"
Load "imports"
Call "compile_module" 6
Return
StoreFunction "emit_operator" 2 "op" "code" 249
Load "op"
Load "OP_Add"
Equal
JumpIfZero "else_0"
PushImmutableContext
Load "INSTR_Add"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "op"
Load "OP_Sub"
Equal
JumpIfZero "else_2"
PushImmutableContext
Load "INSTR_Sub"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "op"
Load "OP_Mul"
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "INSTR_Mul"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "op"
Load "OP_Div"
Equal
JumpIfZero "else_6"
PushImmutableContext
Load "INSTR_Div"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "op"
Load "OP_Mod"
Equal
JumpIfZero "else_8"
PushImmutableContext
Load "INSTR_Modulo"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "op"
Load "OP_Greater"
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "INSTR_Greater"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "op"
Load "OP_Less"
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "INSTR_Less"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Load "op"
Load "OP_GreaterEqual"
Equal
JumpIfZero "else_14"
PushImmutableContext
Load "INSTR_GreaterEqual"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_15"
Label "else_14"
PushImmutableContext
PopImmutableContext
Label "ifend_15"
Load "op"
Load "OP_LessEqual"
Equal
JumpIfZero "else_16"
PushImmutableContext
Load "INSTR_LessEqual"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_17"
Label "else_16"
PushImmutableContext
PopImmutableContext
Label "ifend_17"
Load "op"
Load "OP_Equal"
Equal
JumpIfZero "else_18"
PushImmutableContext
Load "INSTR_Equal"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_19"
Label "else_18"
PushImmutableContext
PopImmutableContext
Label "ifend_19"
Load "op"
Load "OP_NotEqual"
Equal
JumpIfZero "else_20"
PushImmutableContext
Load "INSTR_NotEqual"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_21"
Label "else_20"
PushImmutableContext
PopImmutableContext
Label "ifend_21"
Load "op"
Load "OP_And"
Equal
JumpIfZero "else_22"
PushImmutableContext
Load "INSTR_And"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_23"
Label "else_22"
PushImmutableContext
PopImmutableContext
Label "ifend_23"
Load "op"
Load "OP_Or"
Equal
JumpIfZero "else_24"
PushImmutableContext
Load "INSTR_Or"
Call "instr0" 1
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Return
PopImmutableContext
Jump "ifend_25"
Label "else_24"
PushImmutableContext
PopImmutableContext
Label "ifend_25"
Error "compiler: unknown operator"
Return
StoreFunction "compile_string_literal" 3 "s" "code" "labels" 136
Load "s"
Call "str_len" 1
StoreImmutable "len"
Load "INSTR_Push"
Load "len"
Call "instr1" 2
StoreImmutable "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_ArrayNew"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "labels"
Push 8
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 95
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Call "label_fresh" 2
StoreImmutable "tmp"
Load "INSTR_Store"
Load "tmp"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_1"
ClearImmutableContext
Load "i"
Load "len"
GreaterEqual
JumpIfZero "else_3"
PushImmutableContext
Jump "loop_end_2"
PopImmutableContext
Jump "ifend_4"
Label "else_3"
PushImmutableContext
PopImmutableContext
Label "ifend_4"
Load "INSTR_Load"
Load "tmp"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_Push"
Load "i"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_ArrayLValue"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_PushChar"
Load "s"
Load "i"
ArrayGet
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "INSTR_StoreThrough"
Call "instr0" 1
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Load "di"
Store "i"
Jump "loop_start_1"
Label "loop_end_2"
PopImmutableContext
Load "INSTR_Load"
Load "tmp"
Call "instr1" 2
Store "inst"
Load "code"
Load "inst"
Call "vec_push" 2
Return
StoreFunction "serialize_instructions" 1 "code" 36
Push 64
Call "vec_new" 1
StoreImmutable "lines"
Load "lines"
Push 4
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 88
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 66
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 49
StoreThrough
Load "__strlit_0"
Call "vec_push" 2
Load "lines"
Load "code"
Call "append_instructions" 2
Load "lines"
Call "join_lines" 1
Return
Return
StoreFunction "append_instructions" 2 "lines" "code" 29
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "code"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "lines"
Load "code"
Load "i"
ArrayGet
Call "append_instruction" 2
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Return
StoreFunction "append_line" 2 "lines" "line" 4
Load "lines"
Load "line"
Call "vec_push" 2
Return
StoreFunction "append_instruction" 2 "lines" "instr" 3187
Load "instr"
FieldGet "kind"
Load "INSTR_Push"
Equal
JumpIfZero "else_0"
PushImmutableContext
Push 5
ArrayNew
Store "__strlit_2"
Load "__strlit_2"
Push 0
ArrayLValue
PushChar 80
StoreThrough
Load "__strlit_2"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_2"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_2"
Push 3
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_2"
Push 4
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_2"
Load "instr"
FieldGet "a"
Call "str_from_int" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "instr"
FieldGet "kind"
Load "INSTR_PushChar"
Equal
JumpIfZero "else_3"
PushImmutableContext
Push 9
ArrayNew
Store "__strlit_5"
Load "__strlit_5"
Push 0
ArrayLValue
PushChar 80
StoreThrough
Load "__strlit_5"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_5"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_5"
Push 3
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_5"
Push 4
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_5"
Push 5
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_5"
Push 6
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_5"
Push 7
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_5"
Push 8
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_5"
Load "instr"
FieldGet "a"
Call "str_from_int" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_4"
Label "else_3"
PushImmutableContext
PopImmutableContext
Label "ifend_4"
Load "instr"
FieldGet "kind"
Load "INSTR_Load"
Equal
JumpIfZero "else_6"
PushImmutableContext
Push 5
ArrayNew
Store "__strlit_8"
Load "__strlit_8"
Push 0
ArrayLValue
PushChar 76
StoreThrough
Load "__strlit_8"
Push 1
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_8"
Push 2
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_8"
Push 3
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_8"
Push 4
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_8"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_7"
Label "else_6"
PushImmutableContext
PopImmutableContext
Label "ifend_7"
Load "instr"
FieldGet "kind"
Load "INSTR_Store"
Equal
JumpIfZero "else_9"
PushImmutableContext
Push 6
ArrayNew
Store "__strlit_11"
Load "__strlit_11"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_11"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_11"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_11"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_11"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_11"
Push 5
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_11"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_10"
Label "else_9"
PushImmutableContext
PopImmutableContext
Label "ifend_10"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreImmutable"
Equal
JumpIfZero "else_12"
PushImmutableContext
Push 15
ArrayNew
Store "__strlit_14"
Load "__strlit_14"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_14"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_14"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_14"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_14"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_14"
Push 5
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_14"
Push 6
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_14"
Push 7
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_14"
Push 8
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_14"
Push 9
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_14"
Push 10
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_14"
Push 11
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_14"
Push 12
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_14"
Push 13
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_14"
Push 14
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_14"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreReactive"
Equal
JumpIfZero "else_15"
PushImmutableContext
Load "lines"
Push 13
ArrayNew
Store "__strlit_17"
Load "__strlit_17"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_17"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_17"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_17"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_17"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_17"
Push 5
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_17"
Push 6
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_17"
Push 7
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_17"
Push 8
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_17"
Push 9
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_17"
Push 10
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_17"
Push 11
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_17"
Push 12
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_17"
Load "instr"
FieldGet "a"
Load "instr"
FieldGet "b"
Call "append_reactive_named" 4
Push 0
Return
PopImmutableContext
Jump "ifend_16"
Label "else_15"
PushImmutableContext
PopImmutableContext
Label "ifend_16"
Load "instr"
FieldGet "kind"
Load "INSTR_Add"
Equal
JumpIfZero "else_18"
PushImmutableContext
Load "lines"
Push 3
ArrayNew
Store "__strlit_20"
Load "__strlit_20"
Push 0
ArrayLValue
PushChar 65
StoreThrough
Load "__strlit_20"
Push 1
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_20"
Push 2
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_20"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_19"
Label "else_18"
PushImmutableContext
PopImmutableContext
Label "ifend_19"
Load "instr"
FieldGet "kind"
Load "INSTR_Sub"
Equal
JumpIfZero "else_21"
PushImmutableContext
Load "lines"
Push 3
ArrayNew
Store "__strlit_23"
Load "__strlit_23"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_23"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_23"
Push 2
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_23"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_22"
Label "else_21"
PushImmutableContext
PopImmutableContext
Label "ifend_22"
Load "instr"
FieldGet "kind"
Load "INSTR_Mul"
Equal
JumpIfZero "else_24"
PushImmutableContext
Load "lines"
Push 3
ArrayNew
Store "__strlit_26"
Load "__strlit_26"
Push 0
ArrayLValue
PushChar 77
StoreThrough
Load "__strlit_26"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_26"
Push 2
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_26"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_25"
Label "else_24"
PushImmutableContext
PopImmutableContext
Label "ifend_25"
Load "instr"
FieldGet "kind"
Load "INSTR_Div"
Equal
JumpIfZero "else_27"
PushImmutableContext
Load "lines"
Push 3
ArrayNew
Store "__strlit_29"
Load "__strlit_29"
Push 0
ArrayLValue
PushChar 68
StoreThrough
Load "__strlit_29"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_29"
Push 2
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_29"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_28"
Label "else_27"
PushImmutableContext
PopImmutableContext
Label "ifend_28"
Load "instr"
FieldGet "kind"
Load "INSTR_Modulo"
Equal
JumpIfZero "else_30"
PushImmutableContext
Load "lines"
Push 6
ArrayNew
Store "__strlit_32"
Load "__strlit_32"
Push 0
ArrayLValue
PushChar 77
StoreThrough
Load "__strlit_32"
Push 1
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_32"
Push 2
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_32"
Push 3
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_32"
Push 4
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_32"
Push 5
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_32"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_31"
Label "else_30"
PushImmutableContext
PopImmutableContext
Label "ifend_31"
Load "instr"
FieldGet "kind"
Load "INSTR_Greater"
Equal
JumpIfZero "else_33"
PushImmutableContext
Load "lines"
Push 7
ArrayNew
Store "__strlit_35"
Load "__strlit_35"
Push 0
ArrayLValue
PushChar 71
StoreThrough
Load "__strlit_35"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_35"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_35"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_35"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_35"
Push 5
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_35"
Push 6
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_35"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_34"
Label "else_33"
PushImmutableContext
PopImmutableContext
Label "ifend_34"
Load "instr"
FieldGet "kind"
Load "INSTR_Less"
Equal
JumpIfZero "else_36"
PushImmutableContext
Load "lines"
Push 4
ArrayNew
Store "__strlit_38"
Load "__strlit_38"
Push 0
ArrayLValue
PushChar 76
StoreThrough
Load "__strlit_38"
Push 1
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_38"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_38"
Push 3
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_38"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_37"
Label "else_36"
PushImmutableContext
PopImmutableContext
Label "ifend_37"
Load "instr"
FieldGet "kind"
Load "INSTR_GreaterEqual"
Equal
JumpIfZero "else_39"
PushImmutableContext
Load "lines"
Push 12
ArrayNew
Store "__strlit_41"
Load "__strlit_41"
Push 0
ArrayLValue
PushChar 71
StoreThrough
Load "__strlit_41"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_41"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_41"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_41"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_41"
Push 5
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_41"
Push 6
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_41"
Push 7
ArrayLValue
PushChar 69
StoreThrough
Load "__strlit_41"
Push 8
ArrayLValue
PushChar 113
StoreThrough
Load "__strlit_41"
Push 9
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_41"
Push 10
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_41"
Push 11
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_41"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_40"
Label "else_39"
PushImmutableContext
PopImmutableContext
Label "ifend_40"
Load "instr"
FieldGet "kind"
Load "INSTR_LessEqual"
Equal
JumpIfZero "else_42"
PushImmutableContext
Load "lines"
Push 9
ArrayNew
Store "__strlit_44"
Load "__strlit_44"
Push 0
ArrayLValue
PushChar 76
StoreThrough
Load "__strlit_44"
Push 1
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_44"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_44"
Push 3
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_44"
Push 4
ArrayLValue
PushChar 69
StoreThrough
Load "__strlit_44"
Push 5
ArrayLValue
PushChar 113
StoreThrough
Load "__strlit_44"
Push 6
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_44"
Push 7
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_44"
Push 8
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_44"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_43"
Label "else_42"
PushImmutableContext
PopImmutableContext
Label "ifend_43"
Load "instr"
FieldGet "kind"
Load "INSTR_Equal"
Equal
JumpIfZero "else_45"
PushImmutableContext
Load "lines"
Push 5
ArrayNew
Store "__strlit_47"
Load "__strlit_47"
Push 0
ArrayLValue
PushChar 69
StoreThrough
Load "__strlit_47"
Push 1
ArrayLValue
PushChar 113
StoreThrough
Load "__strlit_47"
Push 2
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_47"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_47"
Push 4
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_47"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_46"
Label "else_45"
PushImmutableContext
PopImmutableContext
Label "ifend_46"
Load "instr"
FieldGet "kind"
Load "INSTR_NotEqual"
Equal
JumpIfZero "else_48"
PushImmutableContext
Load "lines"
Push 8
ArrayNew
Store "__strlit_50"
Load "__strlit_50"
Push 0
ArrayLValue
PushChar 78
StoreThrough
Load "__strlit_50"
Push 1
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_50"
Push 2
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_50"
Push 3
ArrayLValue
PushChar 69
StoreThrough
Load "__strlit_50"
Push 4
ArrayLValue
PushChar 113
StoreThrough
Load "__strlit_50"
Push 5
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_50"
Push 6
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_50"
Push 7
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_50"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_49"
Label "else_48"
PushImmutableContext
PopImmutableContext
Label "ifend_49"
Load "instr"
FieldGet "kind"
Load "INSTR_And"
Equal
JumpIfZero "else_51"
PushImmutableContext
Load "lines"
Push 3
ArrayNew
Store "__strlit_53"
Load "__strlit_53"
Push 0
ArrayLValue
PushChar 65
StoreThrough
Load "__strlit_53"
Push 1
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_53"
Push 2
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_53"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_52"
Label "else_51"
PushImmutableContext
PopImmutableContext
Label "ifend_52"
Load "instr"
FieldGet "kind"
Load "INSTR_Or"
Equal
JumpIfZero "else_54"
PushImmutableContext
Load "lines"
Push 2
ArrayNew
Store "__strlit_56"
Load "__strlit_56"
Push 0
ArrayLValue
PushChar 79
StoreThrough
Load "__strlit_56"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_56"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_55"
Label "else_54"
PushImmutableContext
PopImmutableContext
Label "ifend_55"
Load "instr"
FieldGet "kind"
Load "INSTR_Label"
Equal
JumpIfZero "else_57"
PushImmutableContext
Push 6
ArrayNew
Store "__strlit_59"
Load "__strlit_59"
Push 0
ArrayLValue
PushChar 76
StoreThrough
Load "__strlit_59"
Push 1
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_59"
Push 2
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_59"
Push 3
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_59"
Push 4
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_59"
Push 5
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_59"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_58"
Label "else_57"
PushImmutableContext
PopImmutableContext
Label "ifend_58"
Load "instr"
FieldGet "kind"
Load "INSTR_Jump"
Equal
JumpIfZero "else_60"
PushImmutableContext
Push 5
ArrayNew
Store "__strlit_62"
Load "__strlit_62"
Push 0
ArrayLValue
PushChar 74
StoreThrough
Load "__strlit_62"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_62"
Push 2
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_62"
Push 3
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_62"
Push 4
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_62"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_61"
Label "else_60"
PushImmutableContext
PopImmutableContext
Label "ifend_61"
Load "instr"
FieldGet "kind"
Load "INSTR_JumpIfZero"
Equal
JumpIfZero "else_63"
PushImmutableContext
Push 11
ArrayNew
Store "__strlit_65"
Load "__strlit_65"
Push 0
ArrayLValue
PushChar 74
StoreThrough
Load "__strlit_65"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_65"
Push 2
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_65"
Push 3
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_65"
Push 4
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_65"
Push 5
ArrayLValue
PushChar 102
StoreThrough
Load "__strlit_65"
Push 6
ArrayLValue
PushChar 90
StoreThrough
Load "__strlit_65"
Push 7
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_65"
Push 8
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_65"
Push 9
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_65"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_65"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_64"
Label "else_63"
PushImmutableContext
PopImmutableContext
Label "ifend_64"
Load "instr"
FieldGet "kind"
Load "INSTR_Return"
Equal
JumpIfZero "else_66"
PushImmutableContext
Load "lines"
Push 6
ArrayNew
Store "__strlit_68"
Load "__strlit_68"
Push 0
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_68"
Push 1
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_68"
Push 2
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_68"
Push 3
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_68"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_68"
Push 5
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_68"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_67"
Label "else_66"
PushImmutableContext
PopImmutableContext
Label "ifend_67"
Load "instr"
FieldGet "kind"
Load "INSTR_ArrayNew"
Equal
JumpIfZero "else_69"
PushImmutableContext
Load "lines"
Push 8
ArrayNew
Store "__strlit_71"
Load "__strlit_71"
Push 0
ArrayLValue
PushChar 65
StoreThrough
Load "__strlit_71"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_71"
Push 2
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_71"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_71"
Push 4
ArrayLValue
PushChar 121
StoreThrough
Load "__strlit_71"
Push 5
ArrayLValue
PushChar 78
StoreThrough
Load "__strlit_71"
Push 6
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_71"
Push 7
ArrayLValue
PushChar 119
StoreThrough
Load "__strlit_71"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_70"
Label "else_69"
PushImmutableContext
PopImmutableContext
Label "ifend_70"
Load "instr"
FieldGet "kind"
Load "INSTR_ArrayGet"
Equal
JumpIfZero "else_72"
PushImmutableContext
Load "lines"
Push 8
ArrayNew
Store "__strlit_74"
Load "__strlit_74"
Push 0
ArrayLValue
PushChar 65
StoreThrough
Load "__strlit_74"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_74"
Push 2
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_74"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_74"
Push 4
ArrayLValue
PushChar 121
StoreThrough
Load "__strlit_74"
Push 5
ArrayLValue
PushChar 71
StoreThrough
Load "__strlit_74"
Push 6
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_74"
Push 7
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_74"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_73"
Label "else_72"
PushImmutableContext
PopImmutableContext
Label "ifend_73"
Load "instr"
FieldGet "kind"
Load "INSTR_ArrayLValue"
Equal
JumpIfZero "else_75"
PushImmutableContext
Load "lines"
Push 11
ArrayNew
Store "__strlit_77"
Load "__strlit_77"
Push 0
ArrayLValue
PushChar 65
StoreThrough
Load "__strlit_77"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_77"
Push 2
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_77"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_77"
Push 4
ArrayLValue
PushChar 121
StoreThrough
Load "__strlit_77"
Push 5
ArrayLValue
PushChar 76
StoreThrough
Load "__strlit_77"
Push 6
ArrayLValue
PushChar 86
StoreThrough
Load "__strlit_77"
Push 7
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_77"
Push 8
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_77"
Push 9
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_77"
Push 10
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_77"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_76"
Label "else_75"
PushImmutableContext
PopImmutableContext
Label "ifend_76"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreIndex"
Equal
JumpIfZero "else_78"
PushImmutableContext
Push 11
ArrayNew
Store "__strlit_80"
Load "__strlit_80"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_80"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_80"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_80"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_80"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_80"
Push 5
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_80"
Push 6
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_80"
Push 7
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_80"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_80"
Push 9
ArrayLValue
PushChar 120
StoreThrough
Load "__strlit_80"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_80"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_79"
Label "else_78"
PushImmutableContext
PopImmutableContext
Label "ifend_79"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreIndexReactive"
Equal
JumpIfZero "else_81"
PushImmutableContext
Load "lines"
Push 18
ArrayNew
Store "__strlit_83"
Load "__strlit_83"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_83"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_83"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_83"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_83"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_83"
Push 5
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_83"
Push 6
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_83"
Push 7
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_83"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_83"
Push 9
ArrayLValue
PushChar 120
StoreThrough
Load "__strlit_83"
Push 10
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_83"
Push 11
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_83"
Push 12
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_83"
Push 13
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_83"
Push 14
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_83"
Push 15
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_83"
Push 16
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_83"
Push 17
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_83"
Load "instr"
FieldGet "a"
Load "instr"
FieldGet "b"
Call "append_reactive_named" 4
Push 0
Return
PopImmutableContext
Jump "ifend_82"
Label "else_81"
PushImmutableContext
PopImmutableContext
Label "ifend_82"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreStruct"
Equal
JumpIfZero "else_84"
PushImmutableContext
Load "lines"
Load "instr"
FieldGet "a"
Load "instr"
FieldGet "b"
Call "append_store_struct" 3
Push 0
Return
PopImmutableContext
Jump "ifend_85"
Label "else_84"
PushImmutableContext
PopImmutableContext
Label "ifend_85"
Load "instr"
FieldGet "kind"
Load "INSTR_NewStruct"
Equal
JumpIfZero "else_86"
PushImmutableContext
Push 10
ArrayNew
Store "__strlit_88"
Load "__strlit_88"
Push 0
ArrayLValue
PushChar 78
StoreThrough
Load "__strlit_88"
Push 1
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_88"
Push 2
ArrayLValue
PushChar 119
StoreThrough
Load "__strlit_88"
Push 3
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_88"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_88"
Push 5
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_88"
Push 6
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_88"
Push 7
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_88"
Push 8
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_88"
Push 9
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_88"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_87"
Label "else_86"
PushImmutableContext
PopImmutableContext
Label "ifend_87"
Load "instr"
FieldGet "kind"
Load "INSTR_FieldGet"
Equal
JumpIfZero "else_89"
PushImmutableContext
Push 9
ArrayNew
Store "__strlit_91"
Load "__strlit_91"
Push 0
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_91"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_91"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_91"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_91"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_91"
Push 5
ArrayLValue
PushChar 71
StoreThrough
Load "__strlit_91"
Push 6
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_91"
Push 7
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_91"
Push 8
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_91"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_90"
Label "else_89"
PushImmutableContext
PopImmutableContext
Label "ifend_90"
Load "instr"
FieldGet "kind"
Load "INSTR_FieldSet"
Equal
JumpIfZero "else_92"
PushImmutableContext
Push 9
ArrayNew
Store "__strlit_94"
Load "__strlit_94"
Push 0
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_94"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_94"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_94"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_94"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_94"
Push 5
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_94"
Push 6
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_94"
Push 7
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_94"
Push 8
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_94"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_93"
Label "else_92"
PushImmutableContext
PopImmutableContext
Label "ifend_93"
Load "instr"
FieldGet "kind"
Load "INSTR_FieldSetReactive"
Equal
JumpIfZero "else_95"
PushImmutableContext
Load "lines"
Push 16
ArrayNew
Store "__strlit_97"
Load "__strlit_97"
Push 0
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_97"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_97"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_97"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_97"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_97"
Push 5
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_97"
Push 6
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_97"
Push 7
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_97"
Push 8
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_97"
Push 9
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_97"
Push 10
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_97"
Push 11
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_97"
Push 12
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_97"
Push 13
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_97"
Push 14
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_97"
Push 15
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_97"
Load "instr"
FieldGet "a"
Load "instr"
FieldGet "b"
Call "append_reactive_named" 4
Push 0
Return
PopImmutableContext
Jump "ifend_96"
Label "else_95"
PushImmutableContext
PopImmutableContext
Label "ifend_96"
Load "instr"
FieldGet "kind"
Load "INSTR_FieldLValue"
Equal
JumpIfZero "else_98"
PushImmutableContext
Push 12
ArrayNew
Store "__strlit_100"
Load "__strlit_100"
Push 0
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_100"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_100"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_100"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_100"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_100"
Push 5
ArrayLValue
PushChar 76
StoreThrough
Load "__strlit_100"
Push 6
ArrayLValue
PushChar 86
StoreThrough
Load "__strlit_100"
Push 7
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_100"
Push 8
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_100"
Push 9
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_100"
Push 10
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_100"
Push 11
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_100"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_99"
Label "else_98"
PushImmutableContext
PopImmutableContext
Label "ifend_99"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreThrough"
Equal
JumpIfZero "else_101"
PushImmutableContext
Load "lines"
Push 12
ArrayNew
Store "__strlit_103"
Load "__strlit_103"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_103"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_103"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_103"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_103"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_103"
Push 5
ArrayLValue
PushChar 84
StoreThrough
Load "__strlit_103"
Push 6
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_103"
Push 7
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_103"
Push 8
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_103"
Push 9
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_103"
Push 10
ArrayLValue
PushChar 103
StoreThrough
Load "__strlit_103"
Push 11
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_103"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_102"
Label "else_101"
PushImmutableContext
PopImmutableContext
Label "ifend_102"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreThroughReactive"
Equal
JumpIfZero "else_104"
PushImmutableContext
Load "lines"
Push 20
ArrayNew
Store "__strlit_106"
Load "__strlit_106"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_106"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_106"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_106"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_106"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_106"
Push 5
ArrayLValue
PushChar 84
StoreThrough
Load "__strlit_106"
Push 6
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_106"
Push 7
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_106"
Push 8
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_106"
Push 9
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_106"
Push 10
ArrayLValue
PushChar 103
StoreThrough
Load "__strlit_106"
Push 11
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_106"
Push 12
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_106"
Push 13
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_106"
Push 14
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_106"
Push 15
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_106"
Push 16
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_106"
Push 17
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_106"
Push 18
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_106"
Push 19
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_106"
Load "instr"
FieldGet "a"
Call "append_reactive_unnamed" 3
Push 0
Return
PopImmutableContext
Jump "ifend_105"
Label "else_104"
PushImmutableContext
PopImmutableContext
Label "ifend_105"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreThroughImmutable"
Equal
JumpIfZero "else_107"
PushImmutableContext
Load "lines"
Push 21
ArrayNew
Store "__strlit_109"
Load "__strlit_109"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_109"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_109"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_109"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_109"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_109"
Push 5
ArrayLValue
PushChar 84
StoreThrough
Load "__strlit_109"
Push 6
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_109"
Push 7
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_109"
Push 8
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_109"
Push 9
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_109"
Push 10
ArrayLValue
PushChar 103
StoreThrough
Load "__strlit_109"
Push 11
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_109"
Push 12
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_109"
Push 13
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_109"
Push 14
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_109"
Push 15
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_109"
Push 16
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_109"
Push 17
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_109"
Push 18
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_109"
Push 19
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_109"
Push 20
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_109"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_108"
Label "else_107"
PushImmutableContext
PopImmutableContext
Label "ifend_108"
Load "instr"
FieldGet "kind"
Load "INSTR_StoreFunction"
Equal
JumpIfZero "else_110"
PushImmutableContext
Load "lines"
Load "instr"
FieldGet "a"
Load "instr"
FieldGet "b"
Load "instr"
FieldGet "c"
Call "append_store_function" 4
Push 0
Return
PopImmutableContext
Jump "ifend_111"
Label "else_110"
PushImmutableContext
PopImmutableContext
Label "ifend_111"
Load "instr"
FieldGet "kind"
Load "INSTR_Call"
Equal
JumpIfZero "else_112"
PushImmutableContext
Push 5
ArrayNew
Store "__strlit_114"
Load "__strlit_114"
Push 0
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_114"
Push 1
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_114"
Push 2
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_114"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_114"
Push 4
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_114"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "line"
Push 1
ArrayNew
Store "__strlit_115"
Load "__strlit_115"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_115"
Call "str_append" 2
Store "line"
Load "line"
Load "instr"
FieldGet "b"
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_113"
Label "else_112"
PushImmutableContext
PopImmutableContext
Label "ifend_113"
Load "instr"
FieldGet "kind"
Load "INSTR_PushImmutableContext"
Equal
JumpIfZero "else_116"
PushImmutableContext
Load "lines"
Push 20
ArrayNew
Store "__strlit_118"
Load "__strlit_118"
Push 0
ArrayLValue
PushChar 80
StoreThrough
Load "__strlit_118"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_118"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_118"
Push 3
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_118"
Push 4
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_118"
Push 5
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_118"
Push 6
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_118"
Push 7
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_118"
Push 8
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_118"
Push 9
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_118"
Push 10
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_118"
Push 11
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_118"
Push 12
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_118"
Push 13
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_118"
Push 14
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_118"
Push 15
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_118"
Push 16
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_118"
Push 17
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_118"
Push 18
ArrayLValue
PushChar 120
StoreThrough
Load "__strlit_118"
Push 19
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_118"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_117"
Label "else_116"
PushImmutableContext
PopImmutableContext
Label "ifend_117"
Load "instr"
FieldGet "kind"
Load "INSTR_PopImmutableContext"
Equal
JumpIfZero "else_119"
PushImmutableContext
Load "lines"
Push 19
ArrayNew
Store "__strlit_121"
Load "__strlit_121"
Push 0
ArrayLValue
PushChar 80
StoreThrough
Load "__strlit_121"
Push 1
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_121"
Push 2
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_121"
Push 3
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_121"
Push 4
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_121"
Push 5
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_121"
Push 6
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_121"
Push 7
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_121"
Push 8
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_121"
Push 9
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_121"
Push 10
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_121"
Push 11
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_121"
Push 12
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_121"
Push 13
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_121"
Push 14
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_121"
Push 15
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_121"
Push 16
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_121"
Push 17
ArrayLValue
PushChar 120
StoreThrough
Load "__strlit_121"
Push 18
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_121"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_120"
Label "else_119"
PushImmutableContext
PopImmutableContext
Label "ifend_120"
Load "instr"
FieldGet "kind"
Load "INSTR_ClearImmutableContext"
Equal
JumpIfZero "else_122"
PushImmutableContext
Load "lines"
Push 21
ArrayNew
Store "__strlit_124"
Load "__strlit_124"
Push 0
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_124"
Push 1
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_124"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_124"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_124"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_124"
Push 5
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_124"
Push 6
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_124"
Push 7
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_124"
Push 8
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_124"
Push 9
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_124"
Push 10
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_124"
Push 11
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_124"
Push 12
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_124"
Push 13
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_124"
Push 14
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_124"
Push 15
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_124"
Push 16
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_124"
Push 17
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_124"
Push 18
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_124"
Push 19
ArrayLValue
PushChar 120
StoreThrough
Load "__strlit_124"
Push 20
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_124"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_123"
Label "else_122"
PushImmutableContext
PopImmutableContext
Label "ifend_123"
Load "instr"
FieldGet "kind"
Load "INSTR_Print"
Equal
JumpIfZero "else_125"
PushImmutableContext
Load "lines"
Push 5
ArrayNew
Store "__strlit_127"
Load "__strlit_127"
Push 0
ArrayLValue
PushChar 80
StoreThrough
Load "__strlit_127"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_127"
Push 2
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_127"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_127"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_127"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_126"
Label "else_125"
PushImmutableContext
PopImmutableContext
Label "ifend_126"
Load "instr"
FieldGet "kind"
Load "INSTR_Println"
Equal
JumpIfZero "else_128"
PushImmutableContext
Load "lines"
Push 7
ArrayNew
Store "__strlit_130"
Load "__strlit_130"
Push 0
ArrayLValue
PushChar 80
StoreThrough
Load "__strlit_130"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_130"
Push 2
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_130"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_130"
Push 4
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_130"
Push 5
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_130"
Push 6
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_130"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_129"
Label "else_128"
PushImmutableContext
PopImmutableContext
Label "ifend_129"
Load "instr"
FieldGet "kind"
Load "INSTR_Assert"
Equal
JumpIfZero "else_131"
PushImmutableContext
Load "lines"
Push 6
ArrayNew
Store "__strlit_133"
Load "__strlit_133"
Push 0
ArrayLValue
PushChar 65
StoreThrough
Load "__strlit_133"
Push 1
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_133"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_133"
Push 3
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_133"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_133"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_133"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_132"
Label "else_131"
PushImmutableContext
PopImmutableContext
Label "ifend_132"
Load "instr"
FieldGet "kind"
Load "INSTR_Error"
Equal
JumpIfZero "else_134"
PushImmutableContext
Push 6
ArrayNew
Store "__strlit_136"
Load "__strlit_136"
Push 0
ArrayLValue
PushChar 69
StoreThrough
Load "__strlit_136"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_136"
Push 2
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_136"
Push 3
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_136"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_136"
Push 5
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_136"
Load "instr"
FieldGet "a"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_135"
Label "else_134"
PushImmutableContext
PopImmutableContext
Label "ifend_135"
Load "instr"
FieldGet "kind"
Load "INSTR_Import"
Equal
JumpIfZero "else_137"
PushImmutableContext
Load "lines"
Load "instr"
FieldGet "a"
Call "append_import" 2
Push 0
Return
PopImmutableContext
Jump "ifend_138"
Label "else_137"
PushImmutableContext
PopImmutableContext
Label "ifend_138"
Load "instr"
FieldGet "kind"
Load "INSTR_Cast"
Equal
JumpIfZero "else_139"
PushImmutableContext
Push 5
ArrayNew
Store "__strlit_141"
Load "__strlit_141"
Push 0
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_141"
Push 1
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_141"
Push 2
ArrayLValue
PushChar 115
StoreThrough
Load "__strlit_141"
Push 3
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_141"
Push 4
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_141"
StoreImmutable "line"
Load "instr"
FieldGet "a"
Load "CAST_Int"
Equal
JumpIfZero "else_142"
PushImmutableContext
Load "line"
Push 3
ArrayNew
Store "__strlit_144"
Load "__strlit_144"
Push 0
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_144"
Push 1
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_144"
Push 2
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_144"
Call "str_append" 2
Store "line"
PopImmutableContext
Jump "ifend_143"
Label "else_142"
PushImmutableContext
Load "line"
Push 4
ArrayNew
Store "__strlit_145"
Load "__strlit_145"
Push 0
ArrayLValue
PushChar 67
StoreThrough
Load "__strlit_145"
Push 1
ArrayLValue
PushChar 104
StoreThrough
Load "__strlit_145"
Push 2
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_145"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_145"
Call "str_append" 2
Store "line"
PopImmutableContext
Label "ifend_143"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_140"
Label "else_139"
PushImmutableContext
PopImmutableContext
Label "ifend_140"
Error "serialize: unknown instruction"
Return
StoreFunction "append_import" 2 "lines" "path" 90
Push 7
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 112
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Load "path"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
StoreImmutable "line"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_1"
ClearImmutableContext
Load "i"
Load "path"
GreaterEqual
JumpIfZero "else_3"
PushImmutableContext
Jump "loop_end_2"
PopImmutableContext
Jump "ifend_4"
Label "else_3"
PushImmutableContext
PopImmutableContext
Label "ifend_4"
Load "line"
Push 1
ArrayNew
Store "__strlit_5"
Load "__strlit_5"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_5"
Call "str_append" 2
Store "line"
Load "line"
Load "path"
Load "i"
ArrayGet
Call "quote_string" 1
Call "str_append" 2
Store "line"
Load "di"
Store "i"
Jump "loop_start_1"
Label "loop_end_2"
PopImmutableContext
Load "lines"
Load "line"
Call "append_line" 2
Return
StoreFunction "append_store_function" 4 "lines" "name" "params" "body" 163
Push 14
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_0"
Push 8
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_0"
Push 9
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 10
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_0"
Push 11
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_0"
Push 12
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_0"
Push 13
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Load "name"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "line"
Push 1
ArrayNew
Store "__strlit_1"
Load "__strlit_1"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_1"
Call "str_append" 2
Store "line"
Load "line"
Load "params"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Load "params"
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "line"
Push 1
ArrayNew
Store "__strlit_6"
Load "__strlit_6"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_6"
Call "str_append" 2
Store "line"
Load "line"
Load "params"
Load "i"
ArrayGet
Call "quote_string" 1
Call "str_append" 2
Store "line"
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
Load "line"
Push 1
ArrayNew
Store "__strlit_7"
Load "__strlit_7"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_7"
Call "str_append" 2
Store "line"
Load "line"
Load "body"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Load "lines"
Load "body"
Call "append_instructions" 2
Return
StoreFunction "append_store_struct" 3 "lines" "name" "fields" 118
Push 12
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_0"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_0"
Push 3
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_0"
Push 5
ArrayLValue
PushChar 83
StoreThrough
Load "__strlit_0"
Push 6
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 7
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_0"
Push 8
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_0"
Push 9
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_0"
Push 10
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_0"
Push 11
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Load "name"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "line"
Push 1
ArrayNew
Store "__strlit_1"
Load "__strlit_1"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_1"
Call "str_append" 2
Store "line"
Load "line"
Load "fields"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Load "fields"
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "lines"
Load "fields"
Load "i"
ArrayGet
Call "append_struct_field" 2
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
Return
StoreFunction "append_struct_field" 2 "lines" "field" 528
Load "field"
FieldGet "kind"
Load "FIELD_INIT_None"
Equal
JumpIfZero "else_0"
PushImmutableContext
Push 6
ArrayNew
Store "__strlit_2"
Load "__strlit_2"
Push 0
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_2"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_2"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_2"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_2"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_2"
Push 5
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_2"
Load "field"
FieldGet "name"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "line"
Push 5
ArrayNew
Store "__strlit_3"
Load "__strlit_3"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_3"
Push 1
ArrayLValue
PushChar 78
StoreThrough
Load "__strlit_3"
Push 2
ArrayLValue
PushChar 111
StoreThrough
Load "__strlit_3"
Push 3
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_3"
Push 4
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_3"
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Push 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Load "field"
FieldGet "kind"
Load "FIELD_INIT_Mutable"
Equal
JumpIfZero "else_4"
PushImmutableContext
Push 6
ArrayNew
Store "__strlit_6"
Load "__strlit_6"
Push 0
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_6"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_6"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_6"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_6"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_6"
Push 5
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_6"
Load "field"
FieldGet "name"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "line"
Push 9
ArrayNew
Store "__strlit_7"
Load "__strlit_7"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_7"
Push 1
ArrayLValue
PushChar 77
StoreThrough
Load "__strlit_7"
Push 2
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_7"
Push 3
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_7"
Push 4
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_7"
Push 5
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_7"
Push 6
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_7"
Push 7
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_7"
Push 8
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_7"
Call "str_append" 2
Store "line"
Load "line"
Load "field"
FieldGet "value"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Load "lines"
Load "field"
FieldGet "value"
Call "append_instructions" 2
Push 0
Return
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "field"
FieldGet "kind"
Load "FIELD_INIT_Immutable"
Equal
JumpIfZero "else_8"
PushImmutableContext
Push 6
ArrayNew
Store "__strlit_10"
Load "__strlit_10"
Push 0
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_10"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_10"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_10"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_10"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_10"
Push 5
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_10"
Load "field"
FieldGet "name"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "line"
Push 11
ArrayNew
Store "__strlit_11"
Load "__strlit_11"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_11"
Push 1
ArrayLValue
PushChar 73
StoreThrough
Load "__strlit_11"
Push 2
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_11"
Push 3
ArrayLValue
PushChar 109
StoreThrough
Load "__strlit_11"
Push 4
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_11"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_11"
Push 6
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_11"
Push 7
ArrayLValue
PushChar 98
StoreThrough
Load "__strlit_11"
Push 8
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_11"
Push 9
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_11"
Push 10
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_11"
Call "str_append" 2
Store "line"
Load "line"
Load "field"
FieldGet "value"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Load "lines"
Load "field"
FieldGet "value"
Call "append_instructions" 2
Push 0
Return
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "field"
FieldGet "kind"
Load "FIELD_INIT_Reactive"
Equal
JumpIfZero "else_12"
PushImmutableContext
Load "field"
FieldGet "value"
StoreImmutable "expr"
Push 6
ArrayNew
Store "__strlit_14"
Load "__strlit_14"
Push 0
ArrayLValue
PushChar 70
StoreThrough
Load "__strlit_14"
Push 1
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_14"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_14"
Push 3
ArrayLValue
PushChar 108
StoreThrough
Load "__strlit_14"
Push 4
ArrayLValue
PushChar 100
StoreThrough
Load "__strlit_14"
Push 5
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_14"
Load "field"
FieldGet "name"
Call "quote_string" 1
Call "str_append" 2
StoreImmutable "line"
Load "line"
Push 10
ArrayNew
Store "__strlit_15"
Load "__strlit_15"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_15"
Push 1
ArrayLValue
PushChar 82
StoreThrough
Load "__strlit_15"
Push 2
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_15"
Push 3
ArrayLValue
PushChar 97
StoreThrough
Load "__strlit_15"
Push 4
ArrayLValue
PushChar 99
StoreThrough
Load "__strlit_15"
Push 5
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_15"
Push 6
ArrayLValue
PushChar 105
StoreThrough
Load "__strlit_15"
Push 7
ArrayLValue
PushChar 118
StoreThrough
Load "__strlit_15"
Push 8
ArrayLValue
PushChar 101
StoreThrough
Load "__strlit_15"
Push 9
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_15"
Call "str_append" 2
Store "line"
Load "line"
Load "expr"
FieldGet "captures"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_16"
ClearImmutableContext
Load "i"
Load "expr"
FieldGet "captures"
GreaterEqual
JumpIfZero "else_18"
PushImmutableContext
Jump "loop_end_17"
PopImmutableContext
Jump "ifend_19"
Label "else_18"
PushImmutableContext
PopImmutableContext
Label "ifend_19"
Load "line"
Push 1
ArrayNew
Store "__strlit_20"
Load "__strlit_20"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_20"
Call "str_append" 2
Store "line"
Load "line"
Load "expr"
FieldGet "captures"
Load "i"
ArrayGet
Call "quote_string" 1
Call "str_append" 2
Store "line"
Load "di"
Store "i"
Jump "loop_start_16"
Label "loop_end_17"
PopImmutableContext
Load "line"
Push 1
ArrayNew
Store "__strlit_21"
Load "__strlit_21"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_21"
Call "str_append" 2
Store "line"
Load "line"
Load "expr"
FieldGet "code"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Load "lines"
Load "expr"
FieldGet "code"
Call "append_instructions" 2
Push 0
Return
PopImmutableContext
Jump "ifend_13"
Label "else_12"
PushImmutableContext
PopImmutableContext
Label "ifend_13"
Error "serialize: unknown field init"
Return
StoreFunction "append_reactive_named" 4 "lines" "keyword" "name" "expr" 107
Load "keyword"
Push 1
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Call "str_append" 2
StoreImmutable "line"
Load "line"
Load "name"
Call "quote_string" 1
Call "str_append" 2
Store "line"
Load "line"
Push 1
ArrayNew
Store "__strlit_1"
Load "__strlit_1"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_1"
Call "str_append" 2
Store "line"
Load "line"
Load "expr"
FieldGet "captures"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Load "expr"
FieldGet "captures"
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "line"
Push 1
ArrayNew
Store "__strlit_6"
Load "__strlit_6"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_6"
Call "str_append" 2
Store "line"
Load "line"
Load "expr"
FieldGet "captures"
Load "i"
ArrayGet
Call "quote_string" 1
Call "str_append" 2
Store "line"
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
Load "line"
Push 1
ArrayNew
Store "__strlit_7"
Load "__strlit_7"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_7"
Call "str_append" 2
Store "line"
Load "line"
Load "expr"
FieldGet "code"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Load "lines"
Load "expr"
FieldGet "code"
Call "append_instructions" 2
Return
StoreFunction "append_reactive_unnamed" 3 "lines" "keyword" "expr" 90
Load "keyword"
Push 1
ArrayNew
Store "__strlit_0"
Load "__strlit_0"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_0"
Call "str_append" 2
StoreImmutable "line"
Load "line"
Load "expr"
FieldGet "captures"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_1"
ClearImmutableContext
Load "i"
Load "expr"
FieldGet "captures"
GreaterEqual
JumpIfZero "else_3"
PushImmutableContext
Jump "loop_end_2"
PopImmutableContext
Jump "ifend_4"
Label "else_3"
PushImmutableContext
PopImmutableContext
Label "ifend_4"
Load "line"
Push 1
ArrayNew
Store "__strlit_5"
Load "__strlit_5"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_5"
Call "str_append" 2
Store "line"
Load "line"
Load "expr"
FieldGet "captures"
Load "i"
ArrayGet
Call "quote_string" 1
Call "str_append" 2
Store "line"
Load "di"
Store "i"
Jump "loop_start_1"
Label "loop_end_2"
PopImmutableContext
Load "line"
Push 1
ArrayNew
Store "__strlit_6"
Load "__strlit_6"
Push 0
ArrayLValue
PushChar 32
StoreThrough
Load "__strlit_6"
Call "str_append" 2
Store "line"
Load "line"
Load "expr"
FieldGet "code"
Cast Int
Call "str_from_int" 1
Call "str_append" 2
Store "line"
Load "lines"
Load "line"
Call "append_line" 2
Load "lines"
Load "expr"
FieldGet "code"
Call "append_instructions" 2
Return
StoreFunction "join_lines" 1 "lines" 146
Load "lines"
FieldGet "len"
Push 0
Equal
JumpIfZero "else_0"
PushImmutableContext
Call "str_empty" 0
Return
PopImmutableContext
Jump "ifend_1"
Label "else_0"
PushImmutableContext
PopImmutableContext
Label "ifend_1"
Push 0
Store "total"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_2"
ClearImmutableContext
Load "i"
Load "lines"
FieldGet "len"
GreaterEqual
JumpIfZero "else_4"
PushImmutableContext
Jump "loop_end_3"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
PopImmutableContext
Label "ifend_5"
Load "total"
Load "lines"
FieldGet "items"
Load "i"
ArrayGet
Cast Int
Add
Store "total"
Load "di"
Store "i"
Jump "loop_start_2"
Label "loop_end_3"
PopImmutableContext
Load "total"
Load "lines"
FieldGet "len"
Push 1
Sub
Add
Store "total"
Load "total"
ArrayNew
StoreImmutable "out"
Push 0
Store "pos"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_6"
ClearImmutableContext
Load "i"
Load "lines"
FieldGet "len"
GreaterEqual
JumpIfZero "else_8"
PushImmutableContext
Jump "loop_end_7"
PopImmutableContext
Jump "ifend_9"
Label "else_8"
PushImmutableContext
PopImmutableContext
Label "ifend_9"
Load "i"
Push 0
Greater
JumpIfZero "else_10"
PushImmutableContext
Load "out"
Load "pos"
ArrayLValue
PushChar 10
StoreThrough
Load "pos"
Push 1
Add
Store "pos"
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
PopImmutableContext
Label "ifend_11"
Load "lines"
FieldGet "items"
Load "i"
ArrayGet
StoreImmutable "line"
Push 0
Store "j"
StoreReactive "dj" 1 "j" 4
Load "j"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_12"
ClearImmutableContext
Load "j"
Load "line"
GreaterEqual
JumpIfZero "else_14"
PushImmutableContext
Jump "loop_end_13"
PopImmutableContext
Jump "ifend_15"
Label "else_14"
PushImmutableContext
PopImmutableContext
Label "ifend_15"
Load "out"
Load "pos"
ArrayLValue
Load "line"
Load "j"
ArrayGet
StoreThrough
Load "pos"
Push 1
Add
Store "pos"
Load "dj"
Store "j"
Jump "loop_start_12"
Label "loop_end_13"
PopImmutableContext
Load "di"
Store "i"
Jump "loop_start_6"
Label "loop_end_7"
PopImmutableContext
Load "out"
Return
Return
StoreFunction "quote_string" 1 "s" 239
Call "str_empty" 0
PushChar 34
Call "str_append_char" 2
StoreImmutable "out"
Push 0
Store "i"
StoreReactive "di" 1 "i" 4
Load "i"
Push 1
Add
Return
PushImmutableContext
Label "loop_start_0"
ClearImmutableContext
Load "i"
Load "s"
GreaterEqual
JumpIfZero "else_2"
PushImmutableContext
Jump "loop_end_1"
PopImmutableContext
Jump "ifend_3"
Label "else_2"
PushImmutableContext
PopImmutableContext
Label "ifend_3"
Load "s"
Load "i"
ArrayGet
StoreImmutable "c"
Load "c"
Cast Int
StoreImmutable "ci"
Load "c"
PushChar 92
Equal
JumpIfZero "else_4"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_6"
Load "__strlit_6"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_6"
Push 1
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_6"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_5"
Label "else_4"
PushImmutableContext
Load "c"
PushChar 34
Equal
JumpIfZero "else_7"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_9"
Load "__strlit_9"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_9"
Push 1
ArrayLValue
PushChar 34
StoreThrough
Load "__strlit_9"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_8"
Label "else_7"
PushImmutableContext
Load "c"
PushChar 10
Equal
JumpIfZero "else_10"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_12"
Load "__strlit_12"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_12"
Push 1
ArrayLValue
PushChar 110
StoreThrough
Load "__strlit_12"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_11"
Label "else_10"
PushImmutableContext
Load "c"
PushChar 13
Equal
JumpIfZero "else_13"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_15"
Load "__strlit_15"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_15"
Push 1
ArrayLValue
PushChar 114
StoreThrough
Load "__strlit_15"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_14"
Label "else_13"
PushImmutableContext
Load "c"
PushChar 9
Equal
JumpIfZero "else_16"
PushImmutableContext
Load "out"
Push 2
ArrayNew
Store "__strlit_18"
Load "__strlit_18"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_18"
Push 1
ArrayLValue
PushChar 116
StoreThrough
Load "__strlit_18"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_17"
Label "else_16"
PushImmutableContext
Load "ci"
Push 32
Less
Load "ci"
Push 126
Greater
Or
JumpIfZero "else_19"
PushImmutableContext
Load "out"
Push 3
ArrayNew
Store "__strlit_21"
Load "__strlit_21"
Push 0
ArrayLValue
PushChar 92
StoreThrough
Load "__strlit_21"
Push 1
ArrayLValue
PushChar 117
StoreThrough
Load "__strlit_21"
Push 2
ArrayLValue
PushChar 123
StoreThrough
Load "__strlit_21"
Call "str_append" 2
Store "out"
Load "out"
Load "ci"
Call "str_from_hex" 1
Call "str_append" 2
Store "out"
Load "out"
Push 1
ArrayNew
Store "__strlit_22"
Load "__strlit_22"
Push 0
ArrayLValue
PushChar 125
StoreThrough
Load "__strlit_22"
Call "str_append" 2
Store "out"
PopImmutableContext
Jump "ifend_20"
Label "else_19"
PushImmutableContext
Load "out"
Load "c"
Call "str_append_char" 2
Store "out"
PopImmutableContext
Label "ifend_20"
PopImmutableContext
Label "ifend_17"
PopImmutableContext
Label "ifend_14"
PopImmutableContext
Label "ifend_11"
PopImmutableContext
Label "ifend_8"
PopImmutableContext
Label "ifend_5"
Load "di"
Store "i"
Jump "loop_start_0"
Label "loop_end_1"
PopImmutableContext
Load "out"
PushChar 34
Call "str_append_char" 2
Store "out"
Load "out"
Return
Return